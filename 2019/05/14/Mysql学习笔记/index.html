<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.1.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.1.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.1.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.1.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.1.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.1.1',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="数据库的操作数据库的概念1.数据库是用于存放数据和数据库对象的容器。数据库对象包括表、索引、存储过程、视图、触发器、用户、角色、类型、函数等。 2.每个数据库都有唯一的名称，并且数据库的名字都是有实际意义的。 数据库的操作命令  创建数据库 create   查看数据库 show   选择数据库 use   修改数据库 alter   删除数据库 drop 创建数据库1234CREATE DATA">
<meta name="keywords" content="Mysql  学习笔记">
<meta property="og:type" content="article">
<meta property="og:title" content="Mysql学习笔记">
<meta property="og:url" content="http://yoursite.com/2019/05/14/Mysql学习笔记/index.html">
<meta property="og:site_name" content="张灵灵的笔记">
<meta property="og:description" content="数据库的操作数据库的概念1.数据库是用于存放数据和数据库对象的容器。数据库对象包括表、索引、存储过程、视图、触发器、用户、角色、类型、函数等。 2.每个数据库都有唯一的名称，并且数据库的名字都是有实际意义的。 数据库的操作命令  创建数据库 create   查看数据库 show   选择数据库 use   修改数据库 alter   删除数据库 drop 创建数据库1234CREATE DATA">
<meta property="og:locale" content="en">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/chakanbiao1.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/chakanbiao2.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/chakanbiao3.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/shanchubiao1.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/xiugaibiao1.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/xiugaibiao2.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/xiugaibiao3.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/shanchuziduan1.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/ziduanshujuleixing1.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/xiugaiziduanname.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/tongshixiugai.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/ziduanshunxu.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/ziduanshunxu2.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/zichaxun1.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/zichaxun2.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/zichaxun3.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/zichaxun4.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/zichaxun5.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/zichaxun6.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/zichaxun7.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/zhengze1.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/zhengze2.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/zhengze3.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/zhengze4.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/zhengze5.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/zhengze6.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/zhengze7.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/zhengze8.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/chaxunshizhan1.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/chaxunshizhan2.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/chaxunshizhan3.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/chaxunshizhan4.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/chaxunshizhan5.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/chaxunshizhan6.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/chaxunshizhan7.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/chaxunshizhan8.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/chaxunshizhan9.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/chaxunshizhan10.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/chaxunshizhan11.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/chaxunshizhan12.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/chaxunshizhan13.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/chaxunshizhan14.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/suoyin1.png">
<meta property="og:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/suoyin2.png">
<meta property="og:updated_time" content="2019-05-30T01:24:16.639Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Mysql学习笔记">
<meta name="twitter:description" content="数据库的操作数据库的概念1.数据库是用于存放数据和数据库对象的容器。数据库对象包括表、索引、存储过程、视图、触发器、用户、角色、类型、函数等。 2.每个数据库都有唯一的名称，并且数据库的名字都是有实际意义的。 数据库的操作命令  创建数据库 create   查看数据库 show   选择数据库 use   修改数据库 alter   删除数据库 drop 创建数据库1234CREATE DATA">
<meta name="twitter:image" content="http://yoursite.com/2019/05/14/Mysql学习笔记/chakanbiao1.png">





  
  
  <link rel="canonical" href="http://yoursite.com/2019/05/14/Mysql学习笔记/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Mysql学习笔记 | 张灵灵的笔记</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">张灵灵的笔记</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>About</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>Tags</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>Categories</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tools">

    
    
    
      
    

    

    <a href="/tools/" rel="section"><i class="menu-item-icon fa fa-fw fa-users"></i> <br>tools</a>

  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/14/Mysql学习笔记/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content="夏天,那个夏天,还有那个夏天,即使经历无数次夏天,我还是说不出口。">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="张灵灵的笔记">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Mysql学习笔记

              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-05-14 10:12:00" itemprop="dateCreated datePublished" datetime="2019-05-14T10:12:00+08:00">2019-05-14</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-05-30 09:24:16" itemprop="dateModified" datetime="2019-05-30T09:24:16+08:00">2019-05-30</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/学习笔记/" itemprop="url" rel="index"><span itemprop="name">学习笔记</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="数据库的操作"><a href="#数据库的操作" class="headerlink" title="数据库的操作"></a>数据库的操作</h1><h2 id="数据库的概念"><a href="#数据库的概念" class="headerlink" title="数据库的概念"></a>数据库的概念</h2><p>1.数据库是用于存放数据和数据库对象的容器。数据库对象包括表、索引、存储过程、视图、触发器、用户、角色、类型、函数等。</p>
<p>2.每个数据库都有唯一的名称，并且数据库的名字都是有实际意义的。</p>
<h2 id="数据库的操作命令"><a href="#数据库的操作命令" class="headerlink" title="数据库的操作命令"></a>数据库的操作命令</h2><p>  <code>创建数据库 create</code></p>
<p>  <code>查看数据库 show</code></p>
<p>  <code>选择数据库 use</code></p>
<p>  <code>修改数据库 alter</code></p>
<p>  <code>删除数据库 drop</code></p>
<h2 id="创建数据库"><a href="#创建数据库" class="headerlink" title="创建数据库"></a>创建数据库</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CREATE DATABASE database_name  character  set  character_name;</span><br><span class="line">创建数据库是在系统磁盘上划分一块区域用于数据的存储和管理。</span><br><span class="line">database_name:表示所要创建的数据库的名称；不区分大小写。</span><br><span class="line">character_name：表示数据库的字符集。存放中文，最好使用gbk或utf8</span><br></pre></td></tr></table></figure>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">举例：创建数据库cms。</span><br><span class="line">CREATE DATABASE cms  character  set  gbk;</span><br></pre></td></tr></table></figure>
<p>注意：MySQL不允许两个数据库使用相同的名字。<br>每条SQL语句都以“;”作为结束标志。</p>
<h2 id="查看数据库"><a href="#查看数据库" class="headerlink" title="查看数据库"></a>查看数据库</h2><p><code>show databases;</code></p>
<p>成功创建数据库后，可用show命令查看MySQL服务器中的所有数据库信息。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">举例：查看MySQL服务器中的所有数据库。</span><br><span class="line">show  databases;</span><br></pre></td></tr></table></figure>
<h2 id="选择数据库"><a href="#选择数据库" class="headerlink" title="选择数据库"></a>选择数据库</h2><p>成功创建数据库后，该数据库不会自动成为当前数据库，需要用use语句来指定当前数据库。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">举例：选择名称为cms的数据库。</span><br><span class="line"><span class="keyword">use</span>  <span class="title">cms</span>;</span><br></pre></td></tr></table></figure>
<h2 id="修改数据库"><a href="#修改数据库" class="headerlink" title="修改数据库"></a>修改数据库</h2><p><code>alter DATABASE database_name character  set  character_name;</code></p>
<p>database_name:表示所要修改的数据库名；</p>
<p>character_name:是修改诉字符集的名称。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">举例：修改数据库cms。</span><br><span class="line">alter DATABASE cms character set gb2312 ;</span><br></pre></td></tr></table></figure>
<h2 id="删除数据库"><a href="#删除数据库" class="headerlink" title="删除数据库"></a>删除数据库</h2><p><code>DROP DATABASE database_name;</code></p>
<p>database_name:表示所要删除的数据库名；<br>删除数据的操作应谨慎使用，一旦执行该操作，数据库的所有结构和数据都会被删除，没有恢复的可能，除非数据库有备份。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">举例：删除数据库cms。</span><br><span class="line">DROP DATABASE cms ;</span><br></pre></td></tr></table></figure>
<h1 id="表的操作"><a href="#表的操作" class="headerlink" title="表的操作"></a>表的操作</h1><h2 id="表的概念"><a href="#表的概念" class="headerlink" title="表的概念"></a>表的概念</h2><p>1.表是包含数据库中所有数据的数据库对象。按行和列格式组织，每一行代表一条唯一的记录，每一列代表记录中的一个字段</p>
<p>2.表中的数据库对象包含列、索引和触发器。<br>列：属性列，创建表时，必须指定列的名字和数据类型。<br>索引：根据指定数据表的列建立起来的顺序，提供快速访问数据的途径且可监督表的数据，使其索引所指向的列中的数据不重复。<br>触发器：指用户定义的事务命令的集合，当对一个表中的数据进行插入、更新或删除时，这组命令就会自动执行。</p>
<h2 id="创建表"><a href="#创建表" class="headerlink" title="创建表"></a>创建表</h2><p><code>CREATE TABLE table_name(
   属性名  数据类型,
   属性名  数据类型,
   …
   属性名  数据类型
)</code></p>
<p>表的具体内容定义在括号之中，各列之间用逗号分隔。<br>属性名：字段的名称；数据类型：字段的数据类型。<br>表名：不能与已经存在的表对象重名。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">举例：创建数据库company，在数据库中创建表t_dept。</span><br><span class="line">(<span class="number">1</span>)CREATE DATABASE company;</span><br><span class="line">(<span class="number">2</span>)<span class="keyword">Use</span> <span class="title">company</span>;</span><br><span class="line">(<span class="number">3</span>)Create table t_dept(</span><br><span class="line">    deptno int,</span><br><span class="line">    dname varchar(<span class="number">20</span>),</span><br><span class="line">    loc varchar(<span class="number">40</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">注意：最后一个属性后没有逗号。圆括号外有分号。</span><br><span class="line">创建表之前，需要选择数据库。No database selected.</span><br></pre></td></tr></table></figure>
<h2 id="查看表结构"><a href="#查看表结构" class="headerlink" title="查看表结构"></a>查看表结构</h2><p>语法格式：DESCRIBE 表名</p>
<p>表名：查看表对象定义信息的名字</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">举例：查看数据库company中创建名为t_dept表时的定义信息。</span><br><span class="line">(<span class="number">1</span>)选择数据库：<span class="keyword">USE</span> <span class="title">company</span>;</span><br><span class="line">(<span class="number">2</span>)DESCRIBE t_dept;</span><br></pre></td></tr></table></figure>
<h3 id="DESCRIBE语句查看表定义"><a href="#DESCRIBE语句查看表定义" class="headerlink" title="DESCRIBE语句查看表定义"></a>DESCRIBE语句查看表定义</h3><p><img src="/2019/05/14/Mysql学习笔记/chakanbiao1.png" alt="你想输入的替代文字"></p>
<h3 id="SHOW-CREATE-TABLE语句查看表详细定义"><a href="#SHOW-CREATE-TABLE语句查看表详细定义" class="headerlink" title="SHOW CREATE TABLE语句查看表详细定义"></a>SHOW CREATE TABLE语句查看表详细定义</h3><p>语法格式：SHOW CREATE TABLE 表名</p>
<p>表名：查看表对象定义的名字</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">举例：查看数据库company中创建名为t_dept表时的详细信息。</span><br><span class="line">(<span class="number">1</span>)选择数据库：<span class="keyword">USE</span> <span class="title">company</span>;</span><br><span class="line">(<span class="number">2</span>)SHOW CREATE  table  t_dept\G</span><br><span class="line"></span><br><span class="line">注意：在显示表详细定义信息时，可以使用； \g   \G符号来结束。</span><br><span class="line">\G可使显示结果更加美观，且便于用户查看。</span><br></pre></td></tr></table></figure>
<h3 id="DESCRIBE语句查看表定义演示"><a href="#DESCRIBE语句查看表定义演示" class="headerlink" title="DESCRIBE语句查看表定义演示"></a>DESCRIBE语句查看表定义演示</h3><p>SHOW CREATE table t_dept\G 执行结果</p>
<p><img src="/2019/05/14/Mysql学习笔记/chakanbiao2.png" alt="你想输入的替代文字"></p>
<p>SHOW CREATE table t_dept\g 执行结果</p>
<p>SHOW CREATE table t_dept; 执行结果</p>
<p><img src="/2019/05/14/Mysql学习笔记/chakanbiao3.png" alt="你想输入的替代文字"></p>
<h3 id="DESCRIBE语句和SHOW-CREATE-TABLE语句的区别"><a href="#DESCRIBE语句和SHOW-CREATE-TABLE语句的区别" class="headerlink" title="DESCRIBE语句和SHOW CREATE TABLE语句的区别"></a>DESCRIBE语句和SHOW CREATE TABLE语句的区别</h3><p>DESCRIBE 表名：表结构定义信息，字段名，字段类型，是否为空，是否主键，默认值等；</p>
<p>SHOW CREATE TABLE 表名：除上述信息外，还有存储引擎和默认字符集。</p>
<h2 id="删除表"><a href="#删除表" class="headerlink" title="删除表"></a>删除表</h2><p>删除数据库中已存在的表，会删除表中所保存的所有数据。</p>
<p>语法格式：DROP TABLE 表名</p>
<p>表名：表示所要删除的表名字，表必须是数据库中已经存在的表。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">举例：删除数据库company中名为t_dept的表。</span><br><span class="line">(<span class="number">1</span>)选择数据库：<span class="keyword">USE</span> <span class="title">company</span>;</span><br><span class="line">(<span class="number">2</span>)Drop  table t_dept;</span><br><span class="line">(<span class="number">3</span>)检验数据库company中是否还存在名为t_dept的表</span><br><span class="line">DESCRIBE t_dept;</span><br></pre></td></tr></table></figure>
<p><img src="/2019/05/14/Mysql学习笔记/shanchubiao1.png" alt="你想输入的替代文字"></p>
<h2 id="修改表"><a href="#修改表" class="headerlink" title="修改表"></a>修改表</h2><h3 id="增加字段"><a href="#增加字段" class="headerlink" title="增加字段"></a>增加字段</h3><p>如果表已建好，数据已录入，但是需要增加一列或几列，怎么办？</p>
<p>(1)ALTER TABLE 表名  ADD 属性名  属性类型<br>增加到所有字段的最后一个位置。</p>
<p>(2)ALTER TABLE 表名  ADD 属性名  属性类型 FIRST<br>FIRST关键字：字段将增加到所有字段的第一个位置。</p>
<p>(3) ALTER TABLE 表名  ADD 属性名  属性类型 AFTER 属性名<br>在表的指定字段之后增加字段</p>
<p>表名：表示所要修改的表名字，“属性名”:要增加字段的名称，“属性类型”:数据类型。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">举例<span class="number">1</span>：为数据库company中表t_dept表增加一个名为descri，类型为VARCHAR的字段，所增加字段在表中所有字段的最后一个位置。</span><br><span class="line"></span><br><span class="line"><span class="keyword">Use</span> <span class="title">company</span></span><br><span class="line"><span class="title">Desc</span> <span class="title">t_dept</span>;</span><br><span class="line">Alter table t_dept add descri varchar(<span class="number">20</span>);</span><br><span class="line">Desc t_dept;</span><br></pre></td></tr></table></figure>
<p><img src="/2019/05/14/Mysql学习笔记/xiugaibiao1.png" alt="你想输入的替代文字"></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">举例<span class="number">2</span>：为数据库company中表t_dept表增加一个名为no1，类型为VARCHAR的字段，所增加字段在表中所有字段的第一个位置。</span><br><span class="line"></span><br><span class="line"><span class="keyword">Use</span> <span class="title">company</span></span><br><span class="line"><span class="title">Desc</span> <span class="title">t_dept</span>;</span><br><span class="line">Alter table t_dept add no1 varchar(<span class="number">20</span>)  first;</span><br><span class="line">Desc t_dept;</span><br></pre></td></tr></table></figure>
<p><img src="/2019/05/14/Mysql学习笔记/xiugaibiao2.png" alt="你想输入的替代文字"></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">举例<span class="number">3</span>：为数据库company中表t_dept表增加一个名为no2，类型为VARCHAR的字段，所增加字段在deptno字段之后的位置。</span><br><span class="line"></span><br><span class="line"><span class="keyword">Use</span> <span class="title">company</span></span><br><span class="line"><span class="title">Desc</span> <span class="title">t_dept</span>;</span><br><span class="line">Alter table t_dept add no2 varchar(<span class="number">20</span>)  after deptno;</span><br><span class="line">Desc t_dept;</span><br></pre></td></tr></table></figure>
<p><img src="/2019/05/14/Mysql学习笔记/xiugaibiao3.png" alt="你想输入的替代文字"></p>
<h3 id="删除字段"><a href="#删除字段" class="headerlink" title="删除字段"></a>删除字段</h3><p>删除字段：删除已经在表中定义好的某个字段。</p>
<p>ALTER TABLE 表名  DROP 属性名 </p>
<p>表名：表示所要修改的表名字，“属性名”:要删除字段的名称。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">举例<span class="number">1</span>：为数据库company中表t_dept删除名为no2的字段。</span><br><span class="line"></span><br><span class="line"><span class="keyword">Use</span> <span class="title">company</span></span><br><span class="line"><span class="title">Desc</span> <span class="title">t_dept</span>;</span><br><span class="line">Alter table t_dept drop no2 ;</span><br><span class="line">Desc t_dept;</span><br></pre></td></tr></table></figure>
<p><img src="/2019/05/14/Mysql学习笔记/shanchuziduan1.png" alt="你想输入的替代文字"></p>
<h3 id="修改字段"><a href="#修改字段" class="headerlink" title="修改字段"></a>修改字段</h3><p>1、修改字段的数据类型</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE 表名  MODIFY 属性名 数据类型 </span><br><span class="line"></span><br><span class="line">表名：表示所要修改的表名字，“属性名”:要修改字段的字段名，“数据类型”为修改后的数据类型。</span><br></pre></td></tr></table></figure>
<p>2、修改字段的名字<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE 表名  CHANGE 旧属性名 新属性名  旧数据类型</span><br></pre></td></tr></table></figure></p>
<p>3、同时修改字段的名字和属性</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE 表名  CHANGE 旧属性名 新属性名  新数据类型</span><br></pre></td></tr></table></figure>
<p>4、修改字段的顺序</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE 表名  CHANGE 属性名<span class="number">1</span> 数据类型  FIRST|AFTER  属性名<span class="number">2</span></span><br><span class="line"></span><br><span class="line">表名：表示所要修改的表名字，“属性名<span class="number">1</span>”:所要调整顺序的字段名，“first”表示将字段调整到的第一个位置，“after属性名<span class="number">2</span>”表示将字段调整到属性名<span class="number">2</span>字段位置之后。  属性名<span class="number">1</span>和属性名<span class="number">2</span>必须是表中已存在的字段名。</span><br></pre></td></tr></table></figure>
<h4 id="修改字段数据类型"><a href="#修改字段数据类型" class="headerlink" title="修改字段数据类型"></a>修改字段数据类型</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">举例<span class="number">1</span>：在数据库company中表t_dept中，将deptno字段的数据类型由原来的int(<span class="number">11</span>)类型修改为varchar(<span class="number">20</span>)类型。</span><br><span class="line"></span><br><span class="line"><span class="keyword">Use</span> <span class="title">company</span></span><br><span class="line"><span class="title">Desc</span> <span class="title">t_dept</span>;</span><br><span class="line">Alter table t_dept modify deptno varchar(<span class="number">20</span>) ;</span><br><span class="line">Desc t_dept;</span><br></pre></td></tr></table></figure>
<p><img src="/2019/05/14/Mysql学习笔记/ziduanshujuleixing1.png" alt="你想输入的替代文字"></p>
<h4 id="修改字段的名字"><a href="#修改字段的名字" class="headerlink" title="修改字段的名字"></a>修改字段的名字</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">举例<span class="number">2</span>：在数据库company中表t_dept中，将loc字段的字段名改为location。</span><br><span class="line"></span><br><span class="line"><span class="keyword">Use</span> <span class="title">company</span></span><br><span class="line"><span class="title">Desc</span> <span class="title">t_dept</span>;</span><br><span class="line">Alter table t_dept change loc location varchar(<span class="number">40</span>) ;</span><br><span class="line">Desc t_dept;</span><br></pre></td></tr></table></figure>
<p><img src="/2019/05/14/Mysql学习笔记/xiugaiziduanname.png" alt="你想输入的替代文字"></p>
<h4 id="同时修改字段的名字和属性"><a href="#同时修改字段的名字和属性" class="headerlink" title="同时修改字段的名字和属性"></a>同时修改字段的名字和属性</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">举例<span class="number">3</span>：在数据库company中表t_dept中，将location字段的字段名改为loc,数据类型由原来的varchar(<span class="number">40</span>)类型修改为varchar(<span class="number">20</span>)类型。</span><br><span class="line"></span><br><span class="line"><span class="keyword">Use</span> <span class="title">company</span></span><br><span class="line"><span class="title">Desc</span> <span class="title">t_dept</span>;</span><br><span class="line">Alter table t_dept change location  loc varchar(<span class="number">20</span>) ;</span><br><span class="line">Desc t_dept;</span><br></pre></td></tr></table></figure>
<p><img src="/2019/05/14/Mysql学习笔记/tongshixiugai.png" alt="你想输入的替代文字"></p>
<h4 id="修改字段的顺序"><a href="#修改字段的顺序" class="headerlink" title="修改字段的顺序"></a>修改字段的顺序</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">举例<span class="number">4</span><span class="number">-1</span>：为数据库company中表t_dept中，将loc字段调整到表的第一个位置，把字段deptno调整到字段的dname字段之后。</span><br><span class="line"></span><br><span class="line"><span class="keyword">Use</span> <span class="title">company</span></span><br><span class="line"><span class="title">Desc</span> <span class="title">t_dept</span>;</span><br><span class="line">Alter table t_dept modify loc varchar(<span class="number">20</span>) first; </span><br><span class="line">Desc t_dept;</span><br></pre></td></tr></table></figure>
<p><img src="/2019/05/14/Mysql学习笔记/ziduanshunxu.png" alt="你想输入的替代文字"></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">举例<span class="number">4</span><span class="number">-2</span>：为数据库company中表t_dept中，将loc字段调整到表的第一个位置，把字段deptno调整到字段的dname字段之后。</span><br><span class="line"></span><br><span class="line"><span class="keyword">Use</span> <span class="title">company</span></span><br><span class="line"><span class="title">Desc</span> <span class="title">t_dept</span>;</span><br><span class="line">Alter table t_dept modify loc varchar(<span class="number">20</span>) first; </span><br><span class="line">Desc t_dept;</span><br><span class="line">Alter table t_dept modify deptno varchar(<span class="number">20</span>) after dname;</span><br></pre></td></tr></table></figure>
<p><img src="/2019/05/14/Mysql学习笔记/ziduanshunxu2.png" alt="你想输入的替代文字"></p>
<h3 id="修改表名"><a href="#修改表名" class="headerlink" title="修改表名"></a>修改表名</h3><p>表名可以在一个数据库中唯一地确定一张表。数据库系统通过表名来区分不同的表。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE 表名  rename   [<span class="keyword">as</span>]  new_tablename </span><br><span class="line"></span><br><span class="line">表名：表示所要修改的表名字，“new_tablename”:表的新名称。</span><br></pre></td></tr></table></figure>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rename  table  tablename  to   new_tablename </span><br><span class="line"></span><br><span class="line">tablename ：修改之前的表名，“new_tablename”:修改之后的表名。</span><br></pre></td></tr></table></figure>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">举例：将表名tb_user改为tb_user2。</span><br><span class="line"></span><br><span class="line">ALTER TABLE tb_user  rename  tb_user2; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">举例：将表名tb_user2改为tb_user3。</span><br><span class="line"></span><br><span class="line">rename  table tb_user2  to tb_user3</span><br></pre></td></tr></table></figure>
<h3 id="操作表的约束"><a href="#操作表的约束" class="headerlink" title="操作表的约束"></a>操作表的约束</h3><h4 id="完整性约束"><a href="#完整性约束" class="headerlink" title="完整性约束"></a>完整性约束</h4><p>完整性：指数据的准确性和一致性。</p>
<p>完整性检查：指检查数据的准确性和一致性。</p>
<p>完整性约束：检查数据库表中的数据是否满足规定的条件，以保证数据库表中数据的准确性和一致性。</p>
<p><table><br>  <thead><br>    <tr><br>      <th>完整性约束关键字</th><br>      <th>含义</th><br>  </tr></thead><br>  <tbody><br>    <tr><br>      <td>NOT NULL</td><br>      <td>约束字段的值不能为空</td><br>    </tr><br>    <tr><br>      <td>DEFAULT</td><br>      <td>设置字段的默认值</td><br>    </tr><br>    <tr><br>      <td>UNIQUE KEY（UK）</td><br>      <td>约束字段的值是唯一</td><br>    </tr><br>    <tr><br>      <td>PRIMARY KEY （PK）</td><br>      <td>约束字段为表的主键，可为作为该表记录的唯一标记<br>      </td><br>    </tr><br>    <tr><br>      <td>AUTO_INCREMENT</td><br>      <td>约束字段的值为自动增加</td><br>    </tr><br>     <tr><br>      <td>FOREIGN（FK）</td><br>      <td>约束字段为表的外键</td><br>    </tr><br></tbody><br></table><br><code>备注：不支持check约束，使用check约束没有任何效果；单列约束和多列约束。（一个约束只约束一列车或多列）</code></p>
<h5 id="设置非空约束-NOT-NULL-NK"><a href="#设置非空约束-NOT-NULL-NK" class="headerlink" title="设置非空约束 NOT NULL,NK"></a>设置非空约束 NOT NULL,NK</h5><p>当数据库表中的某个字段上的内容不希望设置为NULL时，则可以使用NK约束进行设置。<br>约束设置方法：在创建数据库表时为某些字段加上“NOT NULL”，保证所有记录中该字段都有值。若该字段为空值，则会报错。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Create table table_name(</span><br><span class="line">    属性名  数据类型 NOT <span class="keyword">NULL</span>,</span><br><span class="line">    ……</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h5 id="设置字段的默认值-DEFAULT"><a href="#设置字段的默认值-DEFAULT" class="headerlink" title="设置字段的默认值 DEFAULT"></a>设置字段的默认值 DEFAULT</h5><p>在数据库表中插入一条新记录时，若没有为某个字段赋值，则自动为这个字段插入默认值。<br>约束设置方法： DEFAULT </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Create table table_name(</span><br><span class="line">    属性名  数据类型 <span class="keyword">DEFAULT</span> 默认值,</span><br><span class="line">    ……</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h5 id="设置唯一约束-UNIQUE，UK"><a href="#设置唯一约束-UNIQUE，UK" class="headerlink" title="设置唯一约束 UNIQUE，UK"></a>设置唯一约束 UNIQUE，UK</h5><p>当数据库表中的某个字段上的内容不允许重复时，用UK约束进行设置。<br>约束设置方法：在创建数据库表时为某些字段加上“UNIQUE”，保证所有记录中该字段上的值不重复。若该字段的值有重复，则会报错。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Create table table_name(</span><br><span class="line">    属性名  数据类型 UNIQUE,</span><br><span class="line">    ……</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h5 id="设置主键约束-PRIMARY-PK"><a href="#设置主键约束-PRIMARY-PK" class="headerlink" title="设置主键约束 PRIMARY ,PK"></a>设置主键约束 PRIMARY ,PK</h5><p>当用数据库表中的某个字段来唯一标识所有记录时，则可以使用PK约束进行设置。<br>约束设置方法：在创建数据库表时为某些字段加上“PRIMARY KEY”，则该字段可以唯一地标示所有记录。<br>设置主键约束时，必须要满足主键字段的值是唯一、非空的。<br>主键可以是单一字段、也可为多个字段，因此分为单字段主键和多字段主键。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">单字段主键：</span><br><span class="line">Create table table_name(</span><br><span class="line">   属性名  数据类型 PRIMARY KEY,</span><br><span class="line">    ……</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">多字段主键：</span><br><span class="line">Create table table_name(</span><br><span class="line">    属性名  数据类型,</span><br><span class="line">    ……</span><br><span class="line">[CONSTRAINT 约束值]PRIMARY KEY(属性名,属性名……)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h5 id="设置字段值自动增加AUTO-INCREMENT"><a href="#设置字段值自动增加AUTO-INCREMENT" class="headerlink" title="设置字段值自动增加AUTO_INCREMENT"></a>设置字段值自动增加AUTO_INCREMENT</h5><p>当数据库表中插入新记录时，字段上的值会自动生成唯一的ID。<br>约束设置方法：在创建数据库表时为某些字段加上“AUTO_INCREMENT”。<br>一个数据库表中只能有一个字段使用该约束，该字段的数据类型必须是整数类型。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Create table table_name(</span><br><span class="line">    属性名  数据类型 AUTO_INCREMENT,</span><br><span class="line">    ……</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h5 id="设置外键约束FOREIGN，FK"><a href="#设置外键约束FOREIGN，FK" class="headerlink" title="设置外键约束FOREIGN，FK"></a>设置外键约束FOREIGN，FK</h5><p>外键约束保证多个表（通常为两个表）之间的参照完整性，构建于两个表的两个字段之间的参照关系。<br>设置外键约束的两个表之间具有父子关系，即子表中某个字段的取值范围由父表决定。<br>约束设置方法：在创建数据库表时为某些字段加上“FOREIGN KEY”。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Create table table_name(</span><br><span class="line">    属性名  数据类型,</span><br><span class="line">    属性名  数据类型,</span><br><span class="line">    ……</span><br><span class="line">   CONSTRAINT 外键约束名 FOREIGN KEY（属性名<span class="number">1</span>）</span><br><span class="line">    REFERENCES 表名（属性名<span class="number">2</span>）</span><br><span class="line">);</span><br><span class="line">“外键约束名”用来标识约束名，“属性名<span class="number">1</span>”是子表中设置外键的字段名，“属性名<span class="number">2</span>”是父表中设置主键约束的字段名。</span><br></pre></td></tr></table></figure>
<p>设置外键约束的两个表之间具有父子关系，即子表中某个字段的取值范围由父表决定。<br>例如：部门表和雇员表，雇员表中有一个表示部门编号的字段deptno，其依赖于部门表的主键，字段deptno就是雇员表的外键，通过该字段部门表和雇员表建立了关系。<br>设置外键约束的字段必须依赖于数据库中已经存在的父表的主键，同时外键可以为NULL。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Create table table_name(</span><br><span class="line">    属性名  数据类型,</span><br><span class="line">    属性名  数据类型,</span><br><span class="line">    ……</span><br><span class="line">   CONSTRAINT 外键约束名 FOREIGN KEY（属性名<span class="number">1</span>）</span><br><span class="line">    REFERENCES 表名（属性名<span class="number">2</span>）</span><br><span class="line">);</span><br><span class="line">“外键约束名”用来标识约束名，“属性名<span class="number">1</span>”是子表中设置外键的字段名，“属性名<span class="number">2</span>”是父表中设置主键约束的字段名</span><br></pre></td></tr></table></figure>
<h1 id="数据的操作"><a href="#数据的操作" class="headerlink" title="数据的操作"></a>数据的操作</h1><p>数据库是存储数据的仓库。数据库基本对象—-表，用来存储数据。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">数据的操作包括</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">插入数据记录   create</span><br><span class="line"></span><br><span class="line">查询数据记录   Select</span><br><span class="line"></span><br><span class="line">更新数据记录   update</span><br><span class="line"></span><br><span class="line">删除数据记录   delete</span><br></pre></td></tr></table></figure>
<h2 id="插入数据记录"><a href="#插入数据记录" class="headerlink" title="插入数据记录"></a>插入数据记录</h2><h3 id="插入完整数据记录"><a href="#插入完整数据记录" class="headerlink" title="插入完整数据记录"></a>插入完整数据记录</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Insert into 数据表名(field1,field2,……fieldn)</span><br><span class="line">Values(value1,value2,……valuen)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Fieldn表示表中的字段名字，valuen表示所要插入的数值， Fieldn 与valuen 要一一对应。</span><br></pre></td></tr></table></figure>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">例一:</span><br><span class="line"></span><br><span class="line">举例样例表person，创建语句如下：</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">CREATE TABLE person</span><br><span class="line">(</span><br><span class="line">id     INT   UNSIGNED   NOT <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">name   CHAR(<span class="number">40</span>)  NOT <span class="keyword">NULL</span>  <span class="keyword">DEFAULT</span> <span class="string">''</span>,</span><br><span class="line">age    INT NOT <span class="keyword">NULL</span>  <span class="keyword">DEFAULT</span>  <span class="number">0</span>,</span><br><span class="line">info   CHAR(<span class="number">50</span>)  <span class="keyword">NULL</span>,</span><br><span class="line">PRIMARY KEY (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">在person表中，插入一条新记录，id值为<span class="number">1</span>，name值为Green，age值为<span class="number">21</span>，info值为Lawyer，SQL语句如下：</span><br><span class="line">执行插入操作之前，使用SELECT语句查看表中的数据：</span><br><span class="line"> SELECT * FROM person;</span><br><span class="line"><span class="keyword">Empty</span> set (<span class="number">0.00</span> sec)</span><br><span class="line">结果显示当前表为空，没有数据</span><br><span class="line"></span><br><span class="line">执行插入操作：</span><br><span class="line">INSERT INTO person (id ,name, age , info)</span><br><span class="line">      VALUES (<span class="number">1</span>,<span class="string">'Green'</span>, <span class="number">21</span>, <span class="string">'Lawyer'</span>);</span><br><span class="line"></span><br><span class="line">语句执行完毕，查看执行结果：</span><br><span class="line"> SELECT * FROM person;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> 提示：</span><br><span class="line">在插入数据时，指定了person表的所有字段，因此将为每一个字段插入新的值。</span><br><span class="line">INSERT语句后面的列名称顺序可以不是person表定义时的顺序。</span><br><span class="line">即插入数据时，不需要按照表定义的顺序插入，只要保证值的顺序与列字段的顺序相同就可以。</span><br></pre></td></tr></table></figure>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">例<span class="number">2</span>:</span><br><span class="line"></span><br><span class="line">在person表中，插入一条新记录，id值为<span class="number">2</span>，name值为Suse，age值为<span class="number">22</span>，info值为dancer，SQL语句如下：</span><br><span class="line"></span><br><span class="line">INSERT INTO person (age ,name, id , info)</span><br><span class="line">      VALUES (<span class="number">22</span>, <span class="string">'Suse'</span>, <span class="number">2</span>, <span class="string">'dancer'</span>);</span><br><span class="line"></span><br><span class="line">SELECT * FROM person;</span><br></pre></td></tr></table></figure>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">例<span class="number">3</span>:</span><br><span class="line"></span><br><span class="line">在person表中，插入一条新记录，id值为<span class="number">3</span>，name值为Mary，age值为<span class="number">24</span>，info值为Musician，SQL语句如下：</span><br><span class="line">INSERT INTO person </span><br><span class="line">     VALUES (<span class="number">3</span>,<span class="string">'Mary'</span>, <span class="number">24</span>, <span class="string">'Musician'</span>);</span><br><span class="line"></span><br><span class="line">SELECT * FROM person;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">提示：</span><br><span class="line">使用INSERT插入数据时，允许列名称列表column_list为空，此时，值列表中需要为表的每一个字段指定值，并且值的顺序必须和数据表中字段定义时的顺序相同。</span><br></pre></td></tr></table></figure>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">例<span class="number">4</span>:</span><br><span class="line"></span><br><span class="line">在person表中，插入一条新记录，name值为Willam，age值为<span class="number">20</span>，info值为sports man，SQL语句如下：</span><br><span class="line">INSERT INTO person (name, age,info)</span><br><span class="line">     VALUES(<span class="string">'Willam'</span>, <span class="number">20</span>, <span class="string">'sports man'</span>);</span><br><span class="line"></span><br><span class="line">SELECT * FROM person;</span><br></pre></td></tr></table></figure>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">例<span class="number">5</span>:</span><br><span class="line"></span><br><span class="line">在person表中，插入一条新记录，name值为laura，age值为<span class="number">25</span>，SQL语句如下：</span><br><span class="line"></span><br><span class="line">INSERT INTO person (name, age ) VALUES (<span class="string">'Laura'</span>, <span class="number">25</span>);</span><br><span class="line">SELECT * FROM person;</span><br></pre></td></tr></table></figure>
<h3 id="同时插入多条记录"><a href="#同时插入多条记录" class="headerlink" title="同时插入多条记录"></a>同时插入多条记录</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">插入时指定多个值列表，每个值列表之间用逗号分隔开</span><br><span class="line"></span><br><span class="line">INSERT INTO 数据表名</span><br><span class="line"> (field1,field2,……fieldn) </span><br><span class="line"> VALUES </span><br><span class="line"> (value11,value22,……valuen1), </span><br><span class="line"> (value12,value22,……valuen2),</span><br><span class="line">                         ...,      </span><br><span class="line"> (value1m,value2m,……valuenm)</span><br><span class="line">     </span><br><span class="line">     </span><br><span class="line">提示：</span><br><span class="line">记录中数值与字段参数field相对应即可，即字段参数field顺序可以与表的字段顺序不一致。</span><br></pre></td></tr></table></figure>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">插入时指定多个值列表，每个值列表之间用逗号分隔开</span><br><span class="line">INSERT INTO 数据表名</span><br><span class="line">  VALUES </span><br><span class="line"> (value11,value22,……valuen1), </span><br><span class="line"> (value12,value22,……valuen2),</span><br><span class="line">                         ...,      </span><br><span class="line">   (value1m,value2m,……valuenm)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">提示：</span><br><span class="line">格式中没有字段参数field，即每条数据记录中的数值必须与表中字段的顺序一致，也可以正确插入多条完整数据记录。</span><br></pre></td></tr></table></figure>
<h4 id="插入完整数据记录-1"><a href="#插入完整数据记录-1" class="headerlink" title="插入完整数据记录"></a>插入完整数据记录</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">例<span class="number">6</span>:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">在person表中，在name、age和info字段指定插入值，同时插入<span class="number">3</span>条新记录，SQL语句如下：</span><br><span class="line"></span><br><span class="line">INSERT INTO person(name, age, info)</span><br><span class="line">VALUES </span><br><span class="line">(<span class="string">'Evans'</span>,<span class="number">27</span>, <span class="string">'secretary'</span>),</span><br><span class="line">(<span class="string">'Dale'</span>,<span class="number">22</span>, <span class="string">'cook'</span>),</span><br><span class="line">(<span class="string">'Edison'</span>,<span class="number">28</span>, <span class="string">'singer'</span>);</span><br><span class="line"></span><br><span class="line">SELECT * FROM person;</span><br></pre></td></tr></table></figure>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">例<span class="number">7</span>:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">在person表中，不指定插入列表，同时插入<span class="number">2</span>条新记录，SQL语句如下：</span><br><span class="line"></span><br><span class="line">INSERT INTO person </span><br><span class="line">VALUES (<span class="number">9</span>,<span class="string">'Harry'</span>,<span class="number">21</span>, <span class="string">'magician'</span>), </span><br><span class="line">(<span class="keyword">NULL</span>,<span class="string">'Harriet'</span>,<span class="number">19</span>, <span class="string">'pianist'</span>);</span><br><span class="line"></span><br><span class="line">SELECT * FROM person;</span><br></pre></td></tr></table></figure>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">例<span class="number">8</span>：</span><br><span class="line"></span><br><span class="line">创建person_old的数据表，与person结构相同：</span><br><span class="line"></span><br><span class="line">CREATE TABLE person_old</span><br><span class="line">(</span><br><span class="line">id     INT  UNSIGNED  NOT  <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">name   CHAR(<span class="number">40</span>)  NOT  <span class="keyword">NULL</span>  <span class="keyword">DEFAULT</span> <span class="string">''</span>,</span><br><span class="line">age    INT NOT  <span class="keyword">NULL</span>  <span class="keyword">DEFAULT</span>  <span class="number">0</span>,</span><br><span class="line">info   CHAR(<span class="number">50</span>) <span class="keyword">NULL</span>,</span><br><span class="line">PRIMARY KEY (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">从person_old表中查询所有的记录，并将其插入到person表中。</span><br><span class="line">向person_old表中添加两条记录：</span><br><span class="line"></span><br><span class="line"> INSERT INTO person_old</span><br><span class="line">     VALUES (<span class="number">11</span>,<span class="string">'Harry'</span>,<span class="number">20</span>, <span class="string">'student'</span>), (<span class="number">12</span>,<span class="string">'Beckham'</span>,<span class="number">31</span>, <span class="string">'police'</span>);</span><br><span class="line"></span><br><span class="line">SELECT * FROM person_old;</span><br></pre></td></tr></table></figure>
<h3 id="将查询结果插入到表中"><a href="#将查询结果插入到表中" class="headerlink" title="将查询结果插入到表中"></a>将查询结果插入到表中</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">INSERT语句和SELECT语句组成的组合语句即可快速地从一个或多个表中向一个表中插入多个行。</span><br><span class="line"></span><br><span class="line">INSERT INTO  数据表名<span class="number">1</span>  (field1,field2,……fieldn) SELECT (field1,field2,……fieldn) FROM 数据表名<span class="number">2</span>       </span><br><span class="line">    WHERE (条件)</span><br></pre></td></tr></table></figure>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">例<span class="number">9</span>:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">将person_old表中所有的记录插入person表中，SQL语句如下：</span><br><span class="line">INSERT INTO person(id, name, age, info)</span><br><span class="line">SELECT id, name, age, info FROM person_old;</span><br><span class="line">上面是一条语句，注意只有一个分号。</span><br><span class="line">SELECT * FROM person;</span><br></pre></td></tr></table></figure>
<h3 id="更新数据记录"><a href="#更新数据记录" class="headerlink" title="更新数据记录"></a>更新数据记录</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">MySQL中使用UPDATE语句更新表中的记录，可以更新特定的行或者同时更新所有的行。</span><br><span class="line">UPDATE 数据表名 </span><br><span class="line">     SET field1=value1,</span><br><span class="line">            field2=value2,</span><br><span class="line">            field3=value3,</span><br><span class="line">WHERE (condition);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">注意：field表示表中所要更新数值的字段名字，参数value表示更新后的数值，condition指定更新满足条件的特定数据记录。</span><br></pre></td></tr></table></figure>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">例<span class="number">10</span>:</span><br><span class="line"></span><br><span class="line">更新前：SELECT * FROM person WHERE id=<span class="number">11</span>;</span><br><span class="line"></span><br><span class="line">更新：在person表中，更新id值为<span class="number">11</span>的记录，将age字段值改为<span class="number">15</span>，将name字段值改为LiMing，SQL语句如下：</span><br><span class="line">UPDATE person SET age = <span class="number">15</span>, name=<span class="string">'LiMing'</span>   WHERE   id = <span class="number">11</span>;</span><br><span class="line"></span><br><span class="line">更新后：</span><br><span class="line">SELECT * FROM person WHERE id=<span class="number">11</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">例<span class="number">10</span>:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">更新前：</span><br><span class="line">SELECT * FROM person WHERE age BETWEEN <span class="number">19</span> <span class="keyword">AND</span> <span class="number">22</span>;</span><br><span class="line"></span><br><span class="line">在person表中，更新age值为<span class="number">19</span>~<span class="number">22</span>的记录，将info字段值都改为student，SQL语句如下：</span><br><span class="line">UPDATE person SET info=<span class="string">'student'</span>  WHERE id  BETWEEN <span class="number">19</span> <span class="keyword">AND</span> <span class="number">22</span>;</span><br><span class="line"></span><br><span class="line">更新后：查看数据</span><br><span class="line">SELECT * FROM person WHERE age BETWEEN <span class="number">19</span> <span class="keyword">AND</span> <span class="number">22</span>;</span><br></pre></td></tr></table></figure>
<h3 id="删除数据记录"><a href="#删除数据记录" class="headerlink" title="删除数据记录"></a>删除数据记录</h3><p>从数据表中<code>删除数据</code>使用<code>DELETE</code>语句，<code>DELETE</code>语句允许<code>WHERE</code>子句指定删除条件。</p>
<p><code>DELETE FROM 数据表名[WHERE condition&gt;]</code> </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">例<span class="number">12</span>:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">在person表中，删除id等于<span class="number">11</span>的记录</span><br><span class="line"></span><br><span class="line">使用SELECT语句查看当前id=<span class="number">11</span>的记录：</span><br><span class="line"> SELECT * FROM person WHERE id=<span class="number">11</span>;</span><br><span class="line"></span><br><span class="line">DELETE FROM person WHERE id = <span class="number">11</span>;</span><br><span class="line"></span><br><span class="line">SELECT * FROM person WHERE id=<span class="number">11</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">例<span class="number">13</span>:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">使用DELETE语句同时删除多条记录</span><br><span class="line">删除前：</span><br><span class="line">SELECT * FROM person WHERE age BETWEEN <span class="number">19</span> <span class="keyword">AND</span> <span class="number">22</span>;</span><br><span class="line">删除：</span><br><span class="line">DELETE FROM person WHERE age BETWEEN <span class="number">19</span> <span class="keyword">AND</span> <span class="number">22</span>;</span><br><span class="line">删除后：</span><br><span class="line"> SELECT * FROM person WHERE age BETWEEN <span class="number">19</span> <span class="keyword">AND</span> <span class="number">22</span>;</span><br></pre></td></tr></table></figure>
<h4 id="TRUNCATE-TABLE语句"><a href="#TRUNCATE-TABLE语句" class="headerlink" title="TRUNCATE TABLE语句"></a>TRUNCATE TABLE语句</h4><p>TRUNCATE将直接删除原来的表并重新创建一个表，其语法结构为：<br>TRUNCATE TABLE table_name<br>TRUNCATE直接删除表而不是删除记录，因此执行速度比DELETE快。</p>
<h3 id="综合案例——记录的插入、更新和删除"><a href="#综合案例——记录的插入、更新和删除" class="headerlink" title="综合案例——记录的插入、更新和删除"></a>综合案例——记录的插入、更新和删除</h3><p>对数据进行更新和删除时，MySQL中对数据操作没有任何提示，因此在更新和删除数据时，一要谨慎小心，查询条件一定要准确，避免造成数据的丢失。本章的综合案例包含了对数据表中数据的基本操作，包括记录的插入、更新和删除。</p>
<h4 id="创建数据表books，并定义各个字段"><a href="#创建数据表books，并定义各个字段" class="headerlink" title="创建数据表books，并定义各个字段"></a>创建数据表books，并定义各个字段</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE books</span><br><span class="line">(</span><br><span class="line">id      	INT NOT <span class="keyword">NULL</span> AUTO_INCREMENT PRIMARY KEY,</span><br><span class="line">name   	VARCHAR(<span class="number">40</span>) NOT <span class="keyword">NULL</span>,</span><br><span class="line">authors  VARCHAR(<span class="number">200</span>) NOT <span class="keyword">NULL</span>,</span><br><span class="line">price    	INT(<span class="number">11</span>) NOT <span class="keyword">NULL</span>,</span><br><span class="line">pubdate 	YEAR NOT <span class="keyword">NULL</span>,</span><br><span class="line">note    	VARCHAR(<span class="number">255</span>) <span class="keyword">NULL</span>,</span><br><span class="line">num    	INT NOT <span class="keyword">NULL</span> <span class="keyword">DEFAULT</span>  <span class="number">0</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h4 id="插入数据到books表中"><a href="#插入数据到books表中" class="headerlink" title="插入数据到books表中"></a>插入数据到books表中</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">看看：SELECT * FROM books;</span><br><span class="line">（<span class="number">1</span>）指定所有字段名称插入记录，SQL语句如下。</span><br><span class="line"> INSERT INTO books</span><br><span class="line">      (id, name, authors, price, pubdate,note,num)</span><br><span class="line">      VALUES(<span class="number">1</span>, <span class="string">'Tale of AAA'</span>, <span class="string">'Dickes'</span>, <span class="number">23</span>, <span class="string">'1995'</span>, <span class="string">'novel'</span>,<span class="number">11</span>);</span><br><span class="line">（<span class="number">2</span>）不指定字段名称插入记录，SQL语句如下。</span><br><span class="line"> INSERT INTO books</span><br><span class="line">      VALUES (<span class="number">2</span>,<span class="string">'EmmaT'</span>,<span class="string">'Jane lura'</span>,<span class="number">35</span>,<span class="string">'1993'</span>, <span class="string">'joke'</span>,<span class="number">22</span>);</span><br><span class="line">使用SELECT语句查看当前表中的数据：</span><br><span class="line"> SELECT * FROM books;</span><br></pre></td></tr></table></figure>
<h4 id="同时插入多条记录-1"><a href="#同时插入多条记录-1" class="headerlink" title="同时插入多条记录"></a>同时插入多条记录</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO books</span><br><span class="line">     VALUES(<span class="number">3</span>, <span class="string">'Story of Jane'</span>, <span class="string">'Jane Tim'</span>, <span class="number">40</span>, <span class="string">'2001'</span>, <span class="string">'novel'</span>, <span class="number">0</span>),</span><br><span class="line">     (<span class="number">4</span>, <span class="string">'Lovey Day'</span>, <span class="string">'George Byron'</span>, <span class="number">20</span>, <span class="string">'2005'</span>, <span class="string">'novel'</span>, <span class="number">30</span>),</span><br><span class="line">     (<span class="number">5</span>, <span class="string">'Old Land'</span>, <span class="string">'Honore Blade'</span>, <span class="number">30</span>, <span class="string">'2010'</span>, <span class="string">'law'</span>,<span class="number">0</span>),</span><br><span class="line">     (<span class="number">6</span>,<span class="string">'The Battle'</span>,<span class="string">'Upton Sara'</span>,<span class="number">33</span>,<span class="string">'1999'</span>, <span class="string">'medicine'</span>,<span class="number">40</span>),</span><br><span class="line">     (<span class="number">7</span>,<span class="string">'Rose Hood'</span>,<span class="string">'Richard Kale'</span>,<span class="number">28</span>,<span class="string">'2008'</span>, <span class="string">'cartoon'</span>,<span class="number">28</span>);</span><br></pre></td></tr></table></figure>
<h4 id="批量更新数据"><a href="#批量更新数据" class="headerlink" title="批量更新数据"></a>批量更新数据</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">一、</span><br><span class="line">先看数据：SELECT * FROM books;</span><br><span class="line">将小说类型（novel）的书的价格都增加<span class="number">5</span>。</span><br><span class="line">UPDATE books SET price = price + <span class="number">5</span> WHERE note = ‘novel’;</span><br><span class="line"></span><br><span class="line">SELECT id, name, price, note FROM books WHERE note = <span class="string">'novel'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">二、</span><br><span class="line">将名称为EmmaT的书的价格改为<span class="number">40</span>，并将说明改为drama。</span><br><span class="line">看：</span><br><span class="line"> SELECT name, price, note FROM books WHERE name=<span class="string">'EmmaT'</span>;</span><br><span class="line">改：UPDATE books SET price=<span class="number">40</span>,note= <span class="string">'drama '</span>WHERE name= <span class="string">'EmmaT '</span>;</span><br><span class="line">看：SELECT name, price, note FROM books WHERE name=<span class="string">'EmmaT'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">三、</span><br><span class="line">看：SELECT * FROM books WHERE num=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">删：DELETE FROM books WHERE num=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">看：SELECT * FROM books WHERE num=<span class="number">0</span>;</span><br></pre></td></tr></table></figure>
<h2 id="子查询和正则表达式查询"><a href="#子查询和正则表达式查询" class="headerlink" title="子查询和正则表达式查询"></a>子查询和正则表达式查询</h2><p>本章有点杂乱,抓重点记一下,重在体会方法。</p>
<h3 id="子查询"><a href="#子查询" class="headerlink" title="子查询"></a>子查询</h3><h4 id="带ANY、SOME关键字的子查询"><a href="#带ANY、SOME关键字的子查询" class="headerlink" title="带ANY、SOME关键字的子查询"></a>带ANY、SOME关键字的子查询</h4><p>ANY和SOME关键字是同义词，表示满足其中任一条件，它们允许创建一个表达式对子查询的返回值列表进行比较，只要满足内层子查询中的任何一个比较条件，就返回一个结果作为外层查询的条件。</p>
<p><code>下面定义两个表tb1和tb2:</code></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">CREATE table tbl1 ( num1 INT NOT <span class="keyword">NULL</span>);</span><br><span class="line">CREATE table tbl2 ( num2 INT NOT <span class="keyword">NULL</span>);</span><br><span class="line">分别向两个表中插入数据：</span><br><span class="line">INSERT INTO tbl1 values(<span class="number">1</span>), (<span class="number">5</span>), (<span class="number">13</span>), (<span class="number">27</span>);</span><br><span class="line">INSERT INTO tbl2 values(<span class="number">6</span>), (<span class="number">14</span>), (<span class="number">11</span>), (<span class="number">20</span>);</span><br><span class="line">ANY关键字接在一个比较操作符的后面，表示若与子查询返回的任何值比较为<span class="keyword">TRUE</span>，则返回<span class="keyword">TRUE</span>。</span><br></pre></td></tr></table></figure>
<p>示例:<br><img src="/2019/05/14/Mysql学习笔记/zichaxun1.png" alt="你想输入的替代文字"></p>
<p><img src="/2019/05/14/Mysql学习笔记/zichaxun2.png" alt="你想输入的替代文字"></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">示例:</span><br><span class="line"></span><br><span class="line">返回tbl2表的所有num2列，然后将tbl1中的num1的值与之进行比较，只要大于num2的任何<span class="number">1</span>个值，即为符合查询条件的结果。</span><br><span class="line"></span><br><span class="line">SELECT num1 FROM tbl1 WHERE num1 &gt; ANY (SELECT num2 FROM tbl2);</span><br></pre></td></tr></table></figure>
<p><img src="/2019/05/14/Mysql学习笔记/zichaxun3.png" alt="你想输入的替代文字"></p>
<h4 id="带ALL关键字的子查询"><a href="#带ALL关键字的子查询" class="headerlink" title="带ALL关键字的子查询"></a>带ALL关键字的子查询</h4><p>ALL关键字与ANY和SOME不同,使用ALL时需要同时满足所有内层查询的条件。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">示例:</span><br><span class="line"></span><br><span class="line">返回tbl1表中比tbl2表num2 列所有值都大的值，SQL语句如下：</span><br><span class="line"></span><br><span class="line">SELECT num1 FROM tbl1 WHERE num1 &gt; ALL (SELECT num2 FROM tbl2);</span><br></pre></td></tr></table></figure>
<p><img src="/2019/05/14/Mysql学习笔记/zichaxun4.png" alt="你想输入的替代文字"></p>
<h4 id="带EXISTS关键字的子查询"><a href="#带EXISTS关键字的子查询" class="headerlink" title="带EXISTS关键字的子查询"></a>带EXISTS关键字的子查询</h4><p>EXISTS关键字后面的参数是一个任意的子查询，系统对子查询进行运算以判断它是否返回行，如果至少返回一行，那么EXISTS的结果为true，此时外层查询语句将进行查询；如果子查询没有返回任何行，那么EXISTS返回的结果是false，此时外层语句将不进行查询。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">查询suppliers表中是否存在s_id=<span class="number">87</span>的供应商，如果存在，则查询fruits表中的记录。</span><br><span class="line">SELECT * FROM fruits</span><br><span class="line">     WHERE EXISTS</span><br><span class="line">     (SELECT s_name FROM suppliers WHERE s_id = <span class="number">87</span>);</span><br></pre></td></tr></table></figure>
<p><img src="/2019/05/14/Mysql学习笔记/zichaxun5.png" alt="你想输入的替代文字"></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">查询suppliers表中是否存在s_id=<span class="number">87</span>的供应商，如果存在，则查询fruits表中的f_price大于<span class="number">8.20</span>的记录。</span><br><span class="line">SELECT * FROM fruits</span><br><span class="line">     WHERE f_price&gt;<span class="number">8.20</span> <span class="keyword">AND</span> EXISTS</span><br><span class="line">     (SELECT s_name FROM suppliers WHERE s_id = <span class="number">87</span>);</span><br></pre></td></tr></table></figure>
<p><img src="/2019/05/14/Mysql学习笔记/zichaxun6.png" alt="你想输入的替代文字"></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">查询suppliers表中是否存在s_id=<span class="number">87</span>的供应商，如果不存在则查询fruits表中的记录。</span><br><span class="line">SELECT * FROM fruits</span><br><span class="line">     WHERE NOT EXISTS</span><br><span class="line">     (SELECT s_name FROM suppliers WHERE s_id = <span class="number">87</span>);</span><br></pre></td></tr></table></figure>
<p><img src="/2019/05/14/Mysql学习笔记/zichaxun7.png" alt="你想输入的替代文字"></p>
<h4 id="带IN关键字的子查询"><a href="#带IN关键字的子查询" class="headerlink" title="带IN关键字的子查询"></a>带IN关键字的子查询</h4><p>IN关键字进行子查询时，内层查询语句仅仅返回一个数据列，这个数据列里的值将提供给外层查询语句进行比较操作。</p>
<p>在orderitems表中查询f_id为c0的订单号，并根据订单号查询具有订单号的客户c_id。<br><code>SELECT c_id FROM orders WHERE</code>o_num<code>IN
     (SELECT</code>o_num<code>FROM orderitems WHERE f_id = &#39;c0&#39;);</code></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SELECT o_num  FROM orderitems WHERE f_id = <span class="string">'c0'</span>;</span><br><span class="line"></span><br><span class="line">假设，符合条件的o_num列的值有两个：<span class="number">30003</span>和<span class="number">30005</span>，然后执行外层查询，在orders表中查询订单号等于<span class="number">30003</span>或<span class="number">30005</span>的客户c_id。嵌套子查询语句还可以写为如下形式，实现相同的效果：</span><br><span class="line"></span><br><span class="line"> SELECT c_id FROM orders WHERE o_num IN (<span class="number">30003</span>, <span class="number">30005</span>);</span><br></pre></td></tr></table></figure>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">在SELECT语句中使用NOT IN关键字。</span><br><span class="line">SELECT c_id FROM orders WHERE o_num NOT IN</span><br><span class="line">     (SELECT o_num  FROM orderitems WHERE f_id = <span class="string">'c0'</span>);</span><br><span class="line"></span><br><span class="line"> SELECT * FROM orders;</span><br></pre></td></tr></table></figure>
<h4 id="带比较运算符的子查询"><a href="#带比较运算符的子查询" class="headerlink" title="带比较运算符的子查询"></a>带比较运算符的子查询</h4><p>在前面介绍的带ANY、ALL关键字的子查询时使用了&gt;比较运算符，子查询时还可以使用其他的比较运算符，如&lt;、&lt;=、=、&gt;=和!=等。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">在suppliers表中查询s_city等于“Tianjin”的供应商s_id，然后在fruits表中查询所有该供应商提供的水果的种类。</span><br><span class="line">SELECT s_id, f_name FROM fruits</span><br><span class="line">     WHERE s_id =</span><br><span class="line">     (SELECT s1.s_id FROM suppliers <span class="keyword">AS</span> s1 WHERE s1.s_city = <span class="string">'Tianjin'</span>);</span><br></pre></td></tr></table></figure>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">在suppliers表中查询s_city等于“Tianjin”的供应商s_id，然后在fruits表中查询所有非该供应商提供的水果的种类。</span><br><span class="line">SELECT s_id, f_name FROM fruits</span><br><span class="line">     WHERE s_id &lt;&gt;</span><br><span class="line">     (SELECT s1.s_id FROM suppliers <span class="keyword">AS</span> s1 WHERE s1.s_city = <span class="string">'Tianjin'</span>);</span><br></pre></td></tr></table></figure>
<h4 id="合并查询结果"><a href="#合并查询结果" class="headerlink" title="合并查询结果"></a>合并查询结果</h4><p>利用UNION关键字，可以给出多条SELECT语句，并将它们的结果组合成单个结果集。合并时，两个表对应的列数和数据类型必须相同。各个SELECT语句之间使用UNION或UNION ALL关键字分隔。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">查询所有价格小于<span class="number">9</span>的水果的信息，查询s_id等于<span class="number">81</span>和<span class="number">83</span>所有的水果的信息，使用UNION ALL</span><br><span class="line">![upload successful](\\images\pasted<span class="number">-195.</span>png\)连接查询结果。</span><br><span class="line"></span><br><span class="line">SELECT s_id, f_name, f_price </span><br><span class="line">FROM fruits</span><br><span class="line">WHERE f_price &lt; <span class="number">9.0</span></span><br><span class="line">UNION ALL</span><br><span class="line">SELECT s_id, f_name, f_price </span><br><span class="line">FROM fruits</span><br><span class="line">WHERE s_id IN(<span class="number">81</span>,<span class="number">83</span>);</span><br></pre></td></tr></table></figure>
<h4 id="为表和字段取别名"><a href="#为表和字段取别名" class="headerlink" title="为表和字段取别名"></a>为表和字段取别名</h4><h5 id="为表取别名"><a href="#为表取别名" class="headerlink" title="为表取别名"></a>为表取别名</h5><p>为了方便操作或者需要多次使用相同的表时，可以为表指定别名，用这个别名替代表原来的名称。<br>表名 [AS] 表别名</p>
<h5 id="为字段取别名"><a href="#为字段取别名" class="headerlink" title="为字段取别名"></a>为字段取别名</h5><p>MySQL可以指定列别名，替换字段或表达式。<br>列名 [AS] 列别名</p>
<h3 id="使用正则表达式查询"><a href="#使用正则表达式查询" class="headerlink" title="使用正则表达式查询"></a>使用正则表达式查询</h3><p>例如：在文本文件中提取电话号码；<br>查找文章中重复的单词；<br>或替换用户输入的某些敏感词语；<br>正则表达式强大灵活，可以应用于非常复杂的查询；<br>REGEXP  正则表达式匹配模式；<br>可以使用多种不同的匹配字符；</p>
<h4 id="查询以特定字符或字符串开头的记录"><a href="#查询以特定字符或字符串开头的记录" class="headerlink" title="查询以特定字符或字符串开头的记录"></a>查询以特定字符或字符串开头的记录</h4><p>字符<code>‘^’</code>匹配以特定字符或者字符串开头的文本。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">在fruits表中，查询f_name字段以字母’b’开头的记录</span><br><span class="line"></span><br><span class="line">SELECT * FROM fruits WHERE f_name REGEXP <span class="string">'^b'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">在fruits表中，查询f_name字段以“be”开头的记录</span><br><span class="line"></span><br><span class="line">SELECT * FROM fruits WHERE f_name REGEXP <span class="string">'^be'</span>;</span><br></pre></td></tr></table></figure>
<h4 id="查询以特定字符或字符串结尾的记录"><a href="#查询以特定字符或字符串结尾的记录" class="headerlink" title="查询以特定字符或字符串结尾的记录"></a>查询以特定字符或字符串结尾的记录</h4><p>字符<code>‘$’</code>匹配以特定字符或者字符串结尾的文本。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">在fruits表中，查询f_name字段以字母’y’结尾的记录</span><br><span class="line"></span><br><span class="line">SELECT * FROM fruits WHERE f_name REGEXP <span class="string">'y$'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">在fruits表中，查询f_name字段以字符串“rry”结尾的记录</span><br><span class="line"></span><br><span class="line">SELECT * FROM fruits WHERE f_name REGEXP <span class="string">'rry$'</span>;</span><br></pre></td></tr></table></figure>
<h4 id="用符号”-”来替代字符串中的任意一个字符"><a href="#用符号”-”来替代字符串中的任意一个字符" class="headerlink" title="用符号”.”来替代字符串中的任意一个字符"></a>用符号”.”来替代字符串中的任意一个字符</h4><p>字符‘.’匹配任意一个字符。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">在fruits表中，查询f_name字段值包含字母’a’与’g’且两个字母之间只有一个字母的记录</span><br><span class="line"></span><br><span class="line">SELECT * FROM fruits WHERE f_name REGEXP <span class="string">'a.g'</span>;</span><br></pre></td></tr></table></figure>
<h4 id="使用”-”和”-”来匹配多个字符"><a href="#使用”-”和”-”来匹配多个字符" class="headerlink" title="使用”*”和”+”来匹配多个字符"></a>使用”*”和”+”来匹配多个字符</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">星号‘*’匹配前面的字符任意多次，包括<span class="number">0</span>次。</span><br><span class="line">加号‘+’匹配前面的字符至少一次。</span><br><span class="line"></span><br><span class="line">在fruits表中，查询f_name字段值以字母’b’开头，且’b’后面出现字母’a’的记录</span><br></pre></td></tr></table></figure>
<p><img src="/2019/05/14/Mysql学习笔记/zhengze1.png" alt="你想输入的替代文字"></p>
<p><code>星号’*’可以匹配任意多个字符，blackberry和berry中字母b后面并没有出现字母a，但是也满足匹配条件。</code></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">在fruits表中，查询f_name字段值以字母’b’开头，且’b’后面出现字母’a’至少一次的记录</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">SELECT * FROM fruits WHERE f_name REGEXP <span class="string">'^ba+'</span>;</span><br></pre></td></tr></table></figure>
<p><img src="/2019/05/14/Mysql学习笔记/zhengze2.png" alt="你想输入的替代文字"></p>
<p><code>‘a+’匹配字母’a’至少一次，只有banana满足匹配条件。</code></p>
<h4 id="匹配指定字符串"><a href="#匹配指定字符串" class="headerlink" title="匹配指定字符串"></a>匹配指定字符串</h4><p>正则表达式可以匹配指定字符串，只要这个字符串在查询文本中即可，如要匹配多个字符串，多个字符串之间使用分隔符‘|’隔开。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">在fruits表中，查询f_name字段值包含字符串“on”的记录</span><br><span class="line"></span><br><span class="line">SELECT * FROM fruits WHERE f_name REGEXP <span class="string">'on'</span>;</span><br></pre></td></tr></table></figure>
<p><img src="/2019/05/14/Mysql学习笔记/zhengze3.png" alt="你想输入的替代文字"></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">在fruits表中，查询f_name字段值包含字符串“on”或者“ap”的记录</span><br><span class="line"></span><br><span class="line">SELECT * FROM fruits WHERE f_name REGEXP <span class="string">'on|ap'</span>;</span><br></pre></td></tr></table></figure>
<p><img src="/2019/05/14/Mysql学习笔记/zhengze4.png" alt="你想输入的替代文字"></p>
<p>与LIKE子句的对比<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM fruits WHERE f_name LIKE <span class="string">'on'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">查询结果为：</span><br><span class="line"><span class="keyword">Empty</span> set</span><br><span class="line"></span><br><span class="line">如果没有使用百分号 %, LIKE 子句与等号 = 的效果是一样的</span><br><span class="line"></span><br><span class="line"><span class="string">'%a'</span>     <span class="comment">//以a结尾的数据</span></span><br><span class="line"><span class="string">'a%'</span>     <span class="comment">//以a开头的数据</span></span><br><span class="line"><span class="string">'%a%'</span>    <span class="comment">//含有a的数据</span></span><br><span class="line"><span class="string">'_a_'</span>    <span class="comment">//三位且中间字母是a的</span></span><br><span class="line"><span class="string">'_a'</span>     <span class="comment">//两位且结尾字母是a的</span></span><br><span class="line"><span class="string">'a_'</span>     <span class="comment">//两位且开头字母是a的</span></span><br></pre></td></tr></table></figure></p>
<h4 id="匹配指定字符中的任意一个"><a href="#匹配指定字符中的任意一个" class="headerlink" title="匹配指定字符中的任意一个"></a>匹配指定字符中的任意一个</h4><p>方括号“[]”指定一个字符集合，只匹配其中任何一个字符，即为所查找的文本。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">在fruits表中，查找f_name字段中包含字母’o’或者’t’的记录</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">SELECT * FROM fruits WHERE f_name REGEXP <span class="string">'[ot]'</span>;</span><br></pre></td></tr></table></figure>
<p><img src="/2019/05/14/Mysql学习笔记/zhengze5.png" alt="你想输入的替代文字"></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">例：在fruits表，查询s_id字段中数值中包含<span class="number">4</span>、<span class="number">5</span>或者<span class="number">6</span>的记录</span><br><span class="line"></span><br><span class="line">SELECT * FROM fruits WHERE s_id REGEXP <span class="string">'[456]'</span>;</span><br></pre></td></tr></table></figure>
<p><img src="/2019/05/14/Mysql学习笔记/zhengze6.png" alt="你想输入的替代文字"></p>
<p>注意：<br>查询结果中，s_id字段值中有3个数字中的1个即为匹配记录字段。<br>匹配集合<code>“[456]”</code>也可以写成<code>“[4-6]”</code>即指定集合区间。例如<code>“[a-z]”</code>表示集合区间为从<code>a~z</code>的字母，<code>“[0-9]”</code>表示集合区间为所有数字。</p>
<h4 id="匹配指定字符以外的字符"><a href="#匹配指定字符以外的字符" class="headerlink" title="匹配指定字符以外的字符"></a>匹配指定字符以外的字符</h4><p>“[^字符集合]”匹配不在指定集合中的任何字符。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">在fruits表中，查询f_id字段包含字母a~e和数字<span class="number">1</span>~<span class="number">2</span>以外的字符的记录,即非a1 a2 b1 b2的字符。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">SELECT * FROM fruits WHERE f_id REGEXP <span class="string">'[^a-e1-2]'</span>;</span><br></pre></td></tr></table></figure>
<p><img src="/2019/05/14/Mysql学习笔记/zhengze7.png" alt="你想输入的替代文字"></p>
<h4 id="使用-M-或者-M-N-来指定字符串连续出现的次数"><a href="#使用-M-或者-M-N-来指定字符串连续出现的次数" class="headerlink" title="使用{M}或者{M,N}来指定字符串连续出现的次数"></a>使用{M}或者{M,N}来指定字符串连续出现的次数</h4><p>“字符串{n,}”表示至少匹配n次前面的字符。“字符串{n,m}”表示匹配前面的字符串不少于n次，不多于m次。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">在fruits表中，查询f_name字段值出现字母’x’至少<span class="number">2</span>次的记录</span><br><span class="line"></span><br><span class="line">SELECT * FROM fruits WHERE f_name REGEXP <span class="string">'x&#123;2,&#125;'</span>;</span><br></pre></td></tr></table></figure>
<p><img src="/2019/05/14/Mysql学习笔记/zhengze8.png" alt="你想输入的替代文字"></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">例：在fruits表中，查询f_name字段值出现字符串“ba”最少<span class="number">1</span>次，最多<span class="number">3</span>次的记录</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">SELECT * FROM fruits WHERE f_name REGEXP <span class="string">'ba&#123;1,3&#125;'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">![你想输入的替代文字](Mysql学习笔记/zhengze9.png)</span><br></pre></td></tr></table></figure>
<h3 id="综合案例——数据表查询操作"><a href="#综合案例——数据表查询操作" class="headerlink" title="综合案例——数据表查询操作"></a>综合案例——数据表查询操作</h3><p>数据表查询操作</p>
<p>SQL语句可以分为两部分，一部分用来创建数据库对象，另一部分用来操作这些对象，本章详细介绍了操作数据库对象的数据表查询语句。通过本章的介绍，读者可以了解到SQL中的查询语言功能的强大，用户可以根据需要灵活使用。本章的综合案例将回顾这些查询语句。</p>
<h4 id="创建数据表employee和dept。"><a href="#创建数据表employee和dept。" class="headerlink" title="创建数据表employee和dept。"></a>创建数据表employee和dept。</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE dept</span><br><span class="line">(</span><br><span class="line">d_no         INT NOT <span class="keyword">NULL</span> PRIMARY KEY AUTO_INCREMENT,</span><br><span class="line">d_name       VARCHAR(<span class="number">50</span>),</span><br><span class="line">d_location     VARCHAR(<span class="number">100</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h4 id="employee表dept-no依赖于父表dept的主键d-no，因此需要先创建dept表，然后创建employee表。"><a href="#employee表dept-no依赖于父表dept的主键d-no，因此需要先创建dept表，然后创建employee表。" class="headerlink" title="employee表dept_no依赖于父表dept的主键d_no，因此需要先创建dept表，然后创建employee表。"></a>employee表dept_no依赖于父表dept的主键d_no，因此需要先创建dept表，然后创建employee表。</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE employee</span><br><span class="line">(</span><br><span class="line">e_no        INT NOT <span class="keyword">NULL</span> PRIMARY KEY,</span><br><span class="line">e_name      VARCHAR(<span class="number">100</span>) NOT <span class="keyword">NULL</span>,</span><br><span class="line">e_gender    CHAR(<span class="number">2</span>) NOT <span class="keyword">NULL</span>,</span><br><span class="line">dept_no    INT NOT <span class="keyword">NULL</span>,</span><br><span class="line">e_job       VARCHAR(<span class="number">100</span>) NOT <span class="keyword">NULL</span>,</span><br><span class="line">e_salary   SMALLINT NOT <span class="keyword">NULL</span>,</span><br><span class="line">hireDate   DATE,</span><br><span class="line">CONSTRAINT dno_fk FOREIGN KEY(dept_no)</span><br><span class="line">REFERENCES dept(d_no)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h4 id="将指定记录分别插入两个表中。"><a href="#将指定记录分别插入两个表中。" class="headerlink" title="将指定记录分别插入两个表中。"></a>将指定记录分别插入两个表中。</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">向dept表中插入数据</span><br><span class="line">INSERT INTO dept </span><br><span class="line">VALUES (<span class="number">10</span>, <span class="string">'ACCOUNTING'</span>, <span class="string">'ShangHai'</span>),</span><br><span class="line">(<span class="number">20</span>, <span class="string">'RESEARCH '</span>, <span class="string">'BeiJing '</span>),</span><br><span class="line">(<span class="number">30</span>, <span class="string">'SALES '</span>, <span class="string">'ShenZhen '</span>),</span><br><span class="line">(<span class="number">40</span>, <span class="string">'OPERATIONS '</span>, <span class="string">'FuJian '</span>);</span><br></pre></td></tr></table></figure>
<h4 id="向employee表中插入数据"><a href="#向employee表中插入数据" class="headerlink" title="向employee表中插入数据"></a>向employee表中插入数据</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO employee </span><br><span class="line">VALUES (<span class="number">1001</span>, <span class="string">'SMITH'</span>, <span class="string">'m'</span>,<span class="number">20</span>, <span class="string">'CLERK'</span>,<span class="number">800</span>,<span class="string">'2005-11-12'</span>),</span><br><span class="line">(<span class="number">1002</span>, <span class="string">'ALLEN'</span>, <span class="string">'f'</span>,<span class="number">30</span>, <span class="string">'SALESMAN'</span>, <span class="number">1600</span>,<span class="string">'2003-05-12'</span>),</span><br><span class="line">(<span class="number">1003</span>, <span class="string">'WARD'</span>, <span class="string">'f'</span>,<span class="number">30</span>, <span class="string">'SALESMAN'</span>, <span class="number">1250</span>,<span class="string">'2003-05-12'</span>),</span><br><span class="line">(<span class="number">1004</span>, <span class="string">'JONES'</span>, <span class="string">'m'</span>,<span class="number">20</span>, <span class="string">'MANAGER'</span>, <span class="number">2975</span>,<span class="string">'1998-05-18'</span>),</span><br><span class="line">(<span class="number">1005</span>, <span class="string">'MARTIN'</span>, <span class="string">'m'</span>,<span class="number">30</span>, <span class="string">'SALESMAN'</span>, <span class="number">1250</span>,<span class="string">'2001-06-12'</span>), </span><br><span class="line">(<span class="number">1006</span>, <span class="string">'BLAKE'</span>, <span class="string">'f'</span>,<span class="number">30</span>, <span class="string">'MANAGER'</span>, <span class="number">2850</span>,<span class="string">'1997-02-15'</span>),</span><br><span class="line">(<span class="number">1007</span>, <span class="string">'CLARK'</span>, <span class="string">'m'</span>,<span class="number">10</span>, <span class="string">'MANAGER'</span>, <span class="number">2450</span>,<span class="string">'2002-09-12'</span>),</span><br><span class="line">(<span class="number">1008</span>, <span class="string">'SCOTT'</span>, <span class="string">'m'</span>,<span class="number">20</span>, <span class="string">'ANALYST'</span>, <span class="number">3000</span>,<span class="string">'2003-05-12'</span>),</span><br><span class="line">(<span class="number">1009</span>, <span class="string">'KING'</span>, <span class="string">'f'</span>,<span class="number">10</span>, <span class="string">'PRESIDENT'</span>, <span class="number">5000</span>,<span class="string">'1995-01-01'</span>),</span><br><span class="line">(<span class="number">1010</span>, <span class="string">'TURNER'</span>, <span class="string">'f'</span>,<span class="number">30</span>, <span class="string">'SALESMAN'</span>, <span class="number">1500</span>,<span class="string">'1997-10-12'</span>),</span><br><span class="line">(<span class="number">1011</span>, <span class="string">'ADAMS'</span>, <span class="string">'m'</span>,<span class="number">20</span>, <span class="string">'CLERK'</span>, <span class="number">1100</span>,<span class="string">'1999-10-05'</span>),</span><br><span class="line">(<span class="number">1012</span>, <span class="string">'JAMES'</span>, <span class="string">'m'</span>,<span class="number">30</span>, <span class="string">'CLERK'</span>, <span class="number">950</span>,<span class="string">'2008-06-15'</span>);</span><br></pre></td></tr></table></figure>
<h4 id="查询操作"><a href="#查询操作" class="headerlink" title="查询操作"></a>查询操作</h4><h5 id="在employee表中，查询所有记录的e-no、e-name和e-salary字段值"><a href="#在employee表中，查询所有记录的e-no、e-name和e-salary字段值" class="headerlink" title="在employee表中，查询所有记录的e_no、e_name和e_salary字段值"></a>在employee表中，查询所有记录的e_no、e_name和e_salary字段值</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT e_no, e_name, e_salary FROM employee;</span><br></pre></td></tr></table></figure>
<p><img src="/2019/05/14/Mysql学习笔记/chaxunshizhan1.png" alt="你想输入的替代文字"></p>
<h5 id="在employee表中，查询dept-no等于10和20的所有记录"><a href="#在employee表中，查询dept-no等于10和20的所有记录" class="headerlink" title="在employee表中，查询dept_no等于10和20的所有记录"></a>在employee表中，查询dept_no等于10和20的所有记录</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM employee WHERE dept_no IN (<span class="number">10</span>, <span class="number">20</span>);</span><br></pre></td></tr></table></figure>
<p><img src="/2019/05/14/Mysql学习笔记/chaxunshizhan2.png" alt="你想输入的替代文字"></p>
<h5 id="在employee表中，查询工资范围在800-2500之间的员工信息。"><a href="#在employee表中，查询工资范围在800-2500之间的员工信息。" class="headerlink" title="在employee表中，查询工资范围在800~2500之间的员工信息。"></a>在employee表中，查询工资范围在800~2500之间的员工信息。</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM employee WHERE e_salary BETWEEN <span class="number">800</span> <span class="keyword">AND</span> <span class="number">2500</span>;</span><br></pre></td></tr></table></figure>
<p><img src="/2019/05/14/Mysql学习笔记/chaxunshizhan3.png" alt="你想输入的替代文字"></p>
<h5 id="在employee表中，查询部门编号为20的部门中的员工信息"><a href="#在employee表中，查询部门编号为20的部门中的员工信息" class="headerlink" title="在employee表中，查询部门编号为20的部门中的员工信息"></a>在employee表中，查询部门编号为20的部门中的员工信息</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM employee WHERE dept_no = <span class="number">20</span>;</span><br></pre></td></tr></table></figure>
<p><img src="/2019/05/14/Mysql学习笔记/chaxunshizhan4.png" alt="你想输入的替代文字"></p>
<h5 id="在employee表中，查询每个部门最高工资的员工信息。"><a href="#在employee表中，查询每个部门最高工资的员工信息。" class="headerlink" title="在employee表中，查询每个部门最高工资的员工信息。"></a>在employee表中，查询每个部门最高工资的员工信息。</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT dept_no, MAX(e_salary) FROM employee GROUP BY dept_no;</span><br></pre></td></tr></table></figure>
<p><img src="/2019/05/14/Mysql学习笔记/chaxunshizhan5.png" alt="你想输入的替代文字"></p>
<h5 id="查询员工BLAKE所在部门和部门所在地。"><a href="#查询员工BLAKE所在部门和部门所在地。" class="headerlink" title="查询员工BLAKE所在部门和部门所在地。"></a>查询员工BLAKE所在部门和部门所在地。</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT d_name,d_no, d_location</span><br><span class="line">      FROM dept WHERE d_no=</span><br><span class="line">      (SELECT dept_no FROM employee WHERE e_name=<span class="string">'BLAKE'</span>);</span><br></pre></td></tr></table></figure>
<p><img src="/2019/05/14/Mysql学习笔记/chaxunshizhan6.png" alt="你想输入的替代文字"></p>
<h5 id="使用连接查询，查询所有员工的部门和部门信息。"><a href="#使用连接查询，查询所有员工的部门和部门信息。" class="headerlink" title="使用连接查询，查询所有员工的部门和部门信息。"></a>使用连接查询，查询所有员工的部门和部门信息。</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT e_no, e_name, dept_no, d_name,d_location</span><br><span class="line">     FROM employee, dept WHERE dept.d_no=employee.dept_no;</span><br></pre></td></tr></table></figure>
<p><img src="/2019/05/14/Mysql学习笔记/chaxunshizhan7.png" alt="你想输入的替代文字"></p>
<h5 id="在employee表中，计算每个部门各有多少名员工。"><a href="#在employee表中，计算每个部门各有多少名员工。" class="headerlink" title="在employee表中，计算每个部门各有多少名员工。"></a>在employee表中，计算每个部门各有多少名员工。</h5><p>用到GROUP BY分组<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT dept_no, COUNT(*) FROM employee GROUP BY dept_no;</span><br></pre></td></tr></table></figure></p>
<p><img src="/2019/05/14/Mysql学习笔记/chaxunshizhan8.png" alt="你想输入的替代文字"></p>
<h5 id="在employee表中，计算不同类型职工的总工资数。"><a href="#在employee表中，计算不同类型职工的总工资数。" class="headerlink" title="在employee表中，计算不同类型职工的总工资数。"></a>在employee表中，计算不同类型职工的总工资数。</h5><p>用到GROUP BY分组<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT e_job, SUM(e_salary) FROM employee GROUP BY e_job;</span><br></pre></td></tr></table></figure></p>
<p><img src="/2019/05/14/Mysql学习笔记/chaxunshizhan9.png" alt="你想输入的替代文字"></p>
<h6 id="在employee表中，计算不同部门的平均工资。"><a href="#在employee表中，计算不同部门的平均工资。" class="headerlink" title="在employee表中，计算不同部门的平均工资。"></a>在employee表中，计算不同部门的平均工资。</h6><p>用到GROUP BY分组<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT dept_no, AVG(e_salary) FROM employee GROUP BY dept_no;</span><br></pre></td></tr></table></figure></p>
<p><img src="/2019/05/14/Mysql学习笔记/chaxunshizhan10.png" alt="你想输入的替代文字"></p>
<h5 id="在employee表中，查询工资低于1500的员工信息。"><a href="#在employee表中，查询工资低于1500的员工信息。" class="headerlink" title="在employee表中，查询工资低于1500的员工信息。"></a>在employee表中，查询工资低于1500的员工信息。</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM employee WHERE e_salary &lt; <span class="number">1500</span>;</span><br></pre></td></tr></table></figure>
<p><img src="/2019/05/14/Mysql学习笔记/chaxunshizhan11.png" alt="你想输入的替代文字"></p>
<h5 id="在employee表中，将查询记录先按部门编号由高到低排列，再按员工工资由高到低排列。"><a href="#在employee表中，将查询记录先按部门编号由高到低排列，再按员工工资由高到低排列。" class="headerlink" title="在employee表中，将查询记录先按部门编号由高到低排列，再按员工工资由高到低排列。"></a>在employee表中，将查询记录先按部门编号由高到低排列，再按员工工资由高到低排列。</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT e_name,dept_no, e_salary</span><br><span class="line">     FROM employee ORDER BY dept_no DESC, e_salary DESC;</span><br></pre></td></tr></table></figure>
<p><img src="/2019/05/14/Mysql学习笔记/chaxunshizhan12.png" alt="你想输入的替代文字"></p>
<h5 id="在employee表中，查询员工姓名以字母’A’或’S’开头的员工的信息。"><a href="#在employee表中，查询员工姓名以字母’A’或’S’开头的员工的信息。" class="headerlink" title="在employee表中，查询员工姓名以字母’A’或’S’开头的员工的信息。"></a>在employee表中，查询员工姓名以字母’A’或’S’开头的员工的信息。</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM employee WHERE e_name REGEXP <span class="string">'^[as]'</span>;</span><br></pre></td></tr></table></figure>
<p><img src="/2019/05/14/Mysql学习笔记/chaxunshizhan13.png" alt="你想输入的替代文字"></p>
<h5 id="在employee表中，查询到目前为止，工龄大于等于10年的员工信息。"><a href="#在employee表中，查询到目前为止，工龄大于等于10年的员工信息。" class="headerlink" title="在employee表中，查询到目前为止，工龄大于等于10年的员工信息。"></a>在employee表中，查询到目前为止，工龄大于等于10年的员工信息。</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM employee where YEAR(CURDATE()) -YEAR(hireDate) &gt;= <span class="number">10</span>;</span><br></pre></td></tr></table></figure>
<p><img src="/2019/05/14/Mysql学习笔记/chaxunshizhan14.png" alt="你想输入的替代文字"></p>
<h1 id="视图的操作"><a href="#视图的操作" class="headerlink" title="视图的操作"></a>视图的操作</h1><h2 id="视图介绍"><a href="#视图介绍" class="headerlink" title="视图介绍"></a>视图介绍</h2><h3 id="为什么使用视图"><a href="#为什么使用视图" class="headerlink" title="为什么使用视图"></a>为什么使用视图</h3><p>视图 VIEW：可实现查询简化，会提高安全性。</p>
<p>视图：一种虚拟表，不以存储数据值的形式存在，引用表中的数据，可提高数据库中数据的安全性。</p>
<p>Select语句的结果集构成视图所返回的虚拟表。<br>当数据表中的数据发生变化时，从视图中查询出来的数据也随之改变。</p>
<h3 id="视图的作用"><a href="#视图的作用" class="headerlink" title="视图的作用"></a>视图的作用</h3><p>（1）将用户限定在数据表中的特定行上。如，只允许部门经理查看本部门的员工信息。</p>
<p>（2）将用户限定在特定列上。如可以让用户查看新闻的内容，但不允许用户查看新闻的发布者名字。</p>
<p>（3）将多个表中的列连接起来，使它们看起来像一个表，采用连接查询，用于报表的制作 。</p>
<p>（4）聚合信息而非提供详细信息。显示一个列的和，或者列的最大值和最小值。</p>
<h3 id="视图的特点"><a href="#视图的特点" class="headerlink" title="视图的特点"></a>视图的特点</h3><p>（1）视图的列可来自于不同的表，是表的抽象和在逻辑意义上建立的新关系。</p>
<p>（2）视图由基本表（实表）产生的表（虚表）。</p>
<p>（3）视图的建立和删除不影响基本表。</p>
<p>（4）对视图内容的更新（添加、删除和修改）直接影响基本表。</p>
<p>（5）当视图来自多个基本表时，不允许添加和删除数据。</p>
<h3 id="视图的优点"><a href="#视图的优点" class="headerlink" title="视图的优点"></a>视图的优点</h3><p>（1）数据保密。对不同的用户定义不同的视图，使用户只能看到与自己有关的数据。</p>
<p>（2）简化查询操作。为复杂的查询建立一个视图，用户不必输入复杂的查询语句，只需针对视图作简单的查询即可。</p>
<p>（3）保证数据的逻辑独立性。对于视图的操作，只依赖于视图的定义，当构成视图的数据表要修改时，只需修改视图定义中的子查询部分，而基于视图的查询不用改变。</p>
<h3 id="视图的缺点"><a href="#视图的缺点" class="headerlink" title="视图的缺点"></a>视图的缺点</h3><p>当更新视图中的数据时，是对数据表的数据进行更新。但，某些视图是不能更新数据的。这些视图有如下的特征：</p>
<p>（1）有UNION等集合操作符的视图。</p>
<p>（2）有GROUP BY子句的视图。</p>
<p>（3）有AVG、SUM或者MAX等函数的视图。</p>
<p>（4）使用DISTINCT短语的视图。</p>
<p>（5）连接表的视图。</p>
<h2 id="视图的操作-1"><a href="#视图的操作-1" class="headerlink" title="视图的操作"></a>视图的操作</h2><h3 id="创建视图"><a href="#创建视图" class="headerlink" title="创建视图"></a>创建视图</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CREATE VIEW 视图名</span><br><span class="line">     <span class="keyword">AS</span> 查询语句</span><br></pre></td></tr></table></figure>
<p>视图由视图名和视图定义两部分组成。<br>视图名不能和表名、其它视图名重名。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">例<span class="number">1</span>：创建查看普通用户的视图。</span><br><span class="line"></span><br><span class="line">用户表中有普通用户和管理员用户之分，为方便查询，先建立一个普通用户的视图。先建一个查询语句，将普通用户找出来，然后再建立视图。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">查询语句：</span><br><span class="line">Selecet  uid,username,email  From  tb_user Where  lever=‘普通用户’;</span><br><span class="line"></span><br><span class="line">创建视图，视图名为tv_commuser；</span><br><span class="line">Create view tv_commuser  <span class="keyword">as</span></span><br><span class="line">Select  uid,username,email  from  tb_user  where  lever=‘普通用户’;</span><br><span class="line"></span><br><span class="line">查看视图：</span><br><span class="line">Select  *  from tv_commuser;</span><br></pre></td></tr></table></figure>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">例<span class="number">2</span>：创建二级部门的视图，使用check option选项，并在使用该选项前后插入一条一级部门的记录，观察发生的情况。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">查询语句：</span><br><span class="line"></span><br><span class="line">Selecet  *  From  tb_dept   Where  deptlever=<span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">创建视图，视图名为tv_dept_1；</span><br><span class="line"></span><br><span class="line">Create view  tv_dept_1  <span class="keyword">as</span>  Selecet  *  From  tb_dept   Where  deptlever=<span class="number">2</span>;</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">查看视图：</span><br><span class="line"></span><br><span class="line">Select  *  from   tv_dept_1;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">（<span class="number">1</span>）向该视图插入一条一级部门的记录。</span><br><span class="line"></span><br><span class="line">Insert  into tv_dept_1 values(‘d6001’,’信息部’,’显示’,’d6001’,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">（<span class="number">2</span>）使用check  option选项来创建视图</span><br><span class="line"></span><br><span class="line">Create view  tv_dept_1  <span class="keyword">as</span>  Selecet  *  From  tb_dept   Where  deptlever=<span class="number">2</span>  with  check  option;</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">（<span class="number">3</span>）再向该视图插入一条一级部门的记录。</span><br><span class="line"></span><br><span class="line">Insert  into tv_dept_1 values(‘d6001’,’信息部’,’显示’,’d6001’,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">会出现：ERROR <span class="number">1369</span>（HY000）：CHECK OPTION FAILED ‘cms.tv_dept_1’</span><br><span class="line"></span><br><span class="line">加上check option选项以后，不能向该视图插入非二级部门的记录。</span><br></pre></td></tr></table></figure>
<h3 id="查看视图"><a href="#查看视图" class="headerlink" title="查看视图"></a>查看视图</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>显示表的名字和视图的名字</span><br><span class="line"></span><br><span class="line">SHOW TABLES      </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>显示表和视图的详细信息</span><br><span class="line"></span><br><span class="line">SHOW TABLE STATUS [FROM 数据库名][LIKE ‘pattern’]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>查看视图定义信息  </span><br><span class="line"></span><br><span class="line">SHOW CREATE VIEW 视图名</span><br><span class="line"></span><br><span class="line">DESCRIBE|DESC 视图名</span><br></pre></td></tr></table></figure>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>显示表的名字和视图的名字</span><br><span class="line"></span><br><span class="line">SHOW TABLES    </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>显示表和视图的详细信息</span><br><span class="line"></span><br><span class="line">SHOW TABLE STATUS [FROM 数据库名][LIKE ‘pattern’]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">例：查看视图名字以”tv_d”开头的视图基本情况。</span><br><span class="line"></span><br><span class="line">Show  table  status  like  ‘tv_d%’;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>查看视图定义</span><br><span class="line"></span><br><span class="line">SHOW CREATE VIEW 视图名</span><br><span class="line"></span><br><span class="line">例：查看已经建立的视图情况</span><br><span class="line"></span><br><span class="line">Select *  from  information_schema.tables  where  table_type=‘view’;</span><br><span class="line"></span><br><span class="line">例：查看视图tv_dept_1的定义</span><br><span class="line"></span><br><span class="line">Show  create  view  tv_dept_1;</span><br></pre></td></tr></table></figure>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="number">4.</span>查看视图结构定义</span><br><span class="line"></span><br><span class="line">DESCRIBE|DESC 视图名</span><br><span class="line"></span><br><span class="line">例：查看视图tv_dept_1的结构定义</span><br><span class="line"></span><br><span class="line">Describe  tv_dept_1</span><br></pre></td></tr></table></figure>
<h3 id="修改视图"><a href="#修改视图" class="headerlink" title="修改视图"></a>修改视图</h3><p>方法一：</p>
<p>（1）先删除视图</p>
<pre><code>DROP VIEW 视图名；
</code></pre><p>（2）新建视图</p>
<pre><code>CREATE VIEW 视图名 AS  SELECT 字段名 FROM 表名
</code></pre><p> 方法二：</p>
<p>（1）ALTER语句修改视图</p>
<pre><code>ALTER VIEW 视图名 AS 查询
</code></pre><p>（2）查看视图</p>
<pre><code>SELECT  * FROM  视图名 ；
</code></pre><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">修改视图：ALTER VIEW 视图名 <span class="keyword">AS</span> 查询</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">例：创建一个视图，列出二级部门的情况，然后使用alter语句修改为一级部门。</span><br><span class="line"></span><br><span class="line">创建视图：</span><br><span class="line">create view  tv_test  <span class="keyword">as</span>  select  *  from tb_dept  where  deptlever1=<span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">修改视图：</span><br><span class="line">Alter  view  tv_test <span class="keyword">as</span>  select  *  from tb_dept  where  deptlever=<span class="number">1</span>;</span><br></pre></td></tr></table></figure>
<h3 id="视图的更名"><a href="#视图的更名" class="headerlink" title="视图的更名"></a>视图的更名</h3><p>视图的更名：</p>
<p>视图创建之后，可以对其重新命名。在mysql中，视图被当作表看待，对视图的重命名就像对表的重命名一样。</p>
<p>Rename  table  原视图名  to  新视图名</p>
<p>例：将视图tv_test重命名为tv_dep_1</p>
<p><code>Rename  table  tv_test  to tv_dep_1;</code></p>
<h3 id="删除视图"><a href="#删除视图" class="headerlink" title="删除视图"></a>删除视图</h3><p>语法格式：DROP VIEW 视图名 [,视图名]…</p>
<p>举例：删除视图tv_test</p>
<p><code>Drop  view  tv_test;</code></p>
<h3 id="利用视图操作基本表"><a href="#利用视图操作基本表" class="headerlink" title="利用视图操作基本表"></a>利用视图操作基本表</h3><p>通过视图检索基本表数据；</p>
<p>通过视图修改基本表中的数据；</p>
<h4 id="检索（查询）数据"><a href="#检索（查询）数据" class="headerlink" title="检索（查询）数据"></a>检索（查询）数据</h4><p>通过视图查询数据，比通过表进行查询更安全、更简单、实用。只需将表名换为视图名。</p>
<p>举例：<code>SELECT * FROM  视图名</code></p>
<h4 id="利用视图操作基本表数据"><a href="#利用视图操作基本表数据" class="headerlink" title="利用视图操作基本表数据"></a>利用视图操作基本表数据</h4><p>1、添加数据操作</p>
<p><code>INSERT INTO 视图名（字段名1，字段名2，…，字段n）VALUES（值1，值2，…，值n）</code></p>
<p>2、删除数据操作</p>
<p><code>DELETE FROM 视图名  WHERE 条件)</code></p>
<p>3、更新数据操作</p>
<p><code>UPDATE 视图名 SET 表达式  WHERE 条件</code></p>
<h1 id="索引的操作"><a href="#索引的操作" class="headerlink" title="索引的操作"></a>索引的操作</h1><h2 id="索引简介"><a href="#索引简介" class="headerlink" title="索引简介"></a>索引简介</h2><h3 id="索引的含义和特点"><a href="#索引的含义和特点" class="headerlink" title="索引的含义和特点"></a>索引的含义和特点</h3><p>索引是一个单独的、存储在磁盘上的数据库结构，它们包含着对数据表里所有记录的引用指针。</p>
<p>索引的优点。</p>
<p>索引的缺点。</p>
<p><strong>索引的好处是为了增加查询速度 建的不好的话会导致查询非常的慢</strong></p>
<h4 id="建立索引的好处"><a href="#建立索引的好处" class="headerlink" title="建立索引的好处"></a>建立索引的好处</h4><p>创建索引可以大大提高数据库系统的查询性能。</p>
<p>a) 通过创建<code>唯一性索引</code>，可以保证数据库表中<code>每一行数据的唯一性</code>。</p>
<p>b) 可以大大加<code>快数据的检索速度</code>，这也是创建索 引的最主要的原因。</p>
<p>c) 可以<code>加速表和表之间的连接</code>，特别是在实现数据的参考完整性方面特别有意义。</p>
<p>d) 在使用分组和排序子句进行数据检索时，同样可以<code>显著减少查询中分组和排序的时间</code>。</p>
<p>e) 通过使用索引，可以在查询的过程中，使用优化隐藏器，提高系统的性能。</p>
<h4 id="建立索引需要付出的代价"><a href="#建立索引需要付出的代价" class="headerlink" title="建立索引需要付出的代价"></a>建立索引需要付出的代价</h4><p>建立索引的目的是加快对表中记录的查找或排序。</p>
<p>a) <code>索引需要占物理空间</code>数据表占数据空间，每一个索引要占一定的物理空间，聚簇索引，需要的空间更大。</p>
<p>b) <code>创建索引和维护索引要耗费时间</code>这种时间随着数据量的增加而增加。</p>
<p>c)<code>降低维护速度，降低了效率</code>当对表中的数据进行增加、删除和修改的时候，索引也要动态的维 护，这样就降低了数据的维护速度</p>
<h3 id="索引的分类"><a href="#索引的分类" class="headerlink" title="索引的分类"></a>索引的分类</h3><p>普通索引和唯一索引</p>
<p>单列索引和组合索引</p>
<p>全文索引</p>
<p>空间索引</p>
<h3 id="索引的设计原则"><a href="#索引的设计原则" class="headerlink" title="索引的设计原则"></a>索引的设计原则</h3><p>索引并非越多越好。</p>
<p>避免对经常更新的表进行过多的索引，并且索引中的列尽可能少。</p>
<p>数据量小的表最好不要使用索引。</p>
<p>在条件表达式中经常用到的不同值较多的列上建立检索，在不同值少的列上不要建立索引。</p>
<p>当唯一性是某种数据本身的特征时，指定唯一索引</p>
<p>在频繁进行排序或分组（即进行group by或order by操作）的列上建立索引</p>
<h2 id="创建索引"><a href="#创建索引" class="headerlink" title="创建索引"></a>创建索引</h2><h3 id="创建表的时候创建索引"><a href="#创建表的时候创建索引" class="headerlink" title="创建表的时候创建索引"></a>创建表的时候创建索引</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">创建表时创建索引的基本语法格式如下：</span><br><span class="line">CREATE  TABLE  </span><br><span class="line">     table_name [col_name data_type]    [UNIQUE|FULLTEXT|SPATIAL] [INDEX|KEY]     </span><br><span class="line">    [index_name] (col_name [length])</span><br><span class="line">    [ASC | DESC]</span><br></pre></td></tr></table></figure>
<h3 id="在已经存在的表上创建索引"><a href="#在已经存在的表上创建索引" class="headerlink" title="在已经存在的表上创建索引"></a>在已经存在的表上创建索引</h3><p>1．使用ALTER TABLE语句创建索引</p>
<p>2．使用CREATE INDEX创建索引</p>
<h4 id="建立数据库"><a href="#建立数据库" class="headerlink" title="建立数据库"></a>建立数据库</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Create database  test_db;</span><br><span class="line"><span class="keyword">Use</span> <span class="title">test_db</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">例<span class="number">1</span>：在book表中的year_publication字段上建立普通索引。（建表）</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">CREATE TABLE book</span><br><span class="line">(</span><br><span class="line">bookid            	INT NOT <span class="keyword">NULL</span>,</span><br><span class="line">bookname    VARCHAR(<span class="number">255</span>) NOT <span class="keyword">NULL</span>,</span><br><span class="line">authors     	VARCHAR(<span class="number">255</span>) NOT <span class="keyword">NULL</span>,</span><br><span class="line">info               VARCHAR(<span class="number">255</span>)   <span class="keyword">NULL</span>,</span><br><span class="line">comment     VARCHAR(<span class="number">255</span>)   <span class="keyword">NULL</span>,</span><br><span class="line">year_publication   YEAR  NOT  <span class="keyword">NULL</span>,</span><br><span class="line">INDEX(year_publication)     );</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">使用SHOW CREATE TABLE查看表结构：</span><br><span class="line"> SHOW CREATE table book;</span><br><span class="line"></span><br><span class="line">KEY `year_publication` (`year_publication`)</span><br><span class="line">book1表的year_publication字段上成功建立索引，其索引名称year_publication为MySQL自动添加。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">使用EXPLAIN语句查看索引是否正在使用：</span><br><span class="line"> explain select * from book where year_publication=<span class="number">1990</span> \G</span><br></pre></td></tr></table></figure>
<p><img src="/2019/05/14/Mysql学习笔记/suoyin1.png" alt="你想输入的替代文字"></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">例<span class="number">2</span>：创建一个表t1，在表中的id字段上使用UNIQUE关键字创建唯一索引</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">CREATE TABLE t1</span><br><span class="line">(</span><br><span class="line">id    INT NOT <span class="keyword">NULL</span>,</span><br><span class="line">name CHAR(<span class="number">30</span>) NOT <span class="keyword">NULL</span>,</span><br><span class="line">UNIQUE INDEX UniqIdx(id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">使用SHOW CREATE TABLE查看表结构：</span><br><span class="line">SHOW CREATE table t1\G</span><br><span class="line"></span><br><span class="line">id字段上已经成功建立了一个名为UniqIdx的唯一索引。</span><br></pre></td></tr></table></figure>
<p><img src="/2019/05/14/Mysql学习笔记/suoyin2.png" alt="你想输入的替代文字"></p>

      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Mysql-学习笔记/" rel="tag"># Mysql  学习笔记</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/05/12/CTF-论剑场-write-wp-持续更新/" rel="next" title="CTF_论剑场 write wp(持续更新)">
                <i class="fa fa-chevron-left"></i> CTF_论剑场 write wp(持续更新)
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/05/14/i春秋综合渗透训练-真的很简单-挑战记录/" rel="prev" title="i春秋综合渗透训练-真的很简单-挑战记录">
                i春秋综合渗透训练-真的很简单-挑战记录 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  
    <div class="comments" id="comments">
      <div id="lv-container" data-id="city" data-uid="MTAyMC80NzA3MC8yMzU3MA=="></div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.gif" alt>
            
              <p class="site-author-name" itemprop="name"></p>
              <div class="site-description motion-element" itemprop="description">夏天,那个夏天,还有那个夏天,即使经历无数次夏天,我还是说不出口。</div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">39</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">6</span>
                    <span class="site-state-item-name">categories</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">33</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          

          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                友链
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="http://blog.ak6666.top/" title="http://blog.ak6666.top/" rel="noopener" target="_blank">阿凯</a>
                  </li>
                
              </ul>
            </div>
          

          
            
          

        <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="298" height="52" src="//music.163.com/outchain/player?type=2&id=536976917&auto=1&height=32"></iframe>


          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#数据库的操作"><span class="nav-number">1.</span> <span class="nav-text">数据库的操作</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#数据库的概念"><span class="nav-number">1.1.</span> <span class="nav-text">数据库的概念</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数据库的操作命令"><span class="nav-number">1.2.</span> <span class="nav-text">数据库的操作命令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#创建数据库"><span class="nav-number">1.3.</span> <span class="nav-text">创建数据库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#查看数据库"><span class="nav-number">1.4.</span> <span class="nav-text">查看数据库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#选择数据库"><span class="nav-number">1.5.</span> <span class="nav-text">选择数据库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#修改数据库"><span class="nav-number">1.6.</span> <span class="nav-text">修改数据库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#删除数据库"><span class="nav-number">1.7.</span> <span class="nav-text">删除数据库</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#表的操作"><span class="nav-number">2.</span> <span class="nav-text">表的操作</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#表的概念"><span class="nav-number">2.1.</span> <span class="nav-text">表的概念</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#创建表"><span class="nav-number">2.2.</span> <span class="nav-text">创建表</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#查看表结构"><span class="nav-number">2.3.</span> <span class="nav-text">查看表结构</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#DESCRIBE语句查看表定义"><span class="nav-number">2.3.1.</span> <span class="nav-text">DESCRIBE语句查看表定义</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SHOW-CREATE-TABLE语句查看表详细定义"><span class="nav-number">2.3.2.</span> <span class="nav-text">SHOW CREATE TABLE语句查看表详细定义</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DESCRIBE语句查看表定义演示"><span class="nav-number">2.3.3.</span> <span class="nav-text">DESCRIBE语句查看表定义演示</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DESCRIBE语句和SHOW-CREATE-TABLE语句的区别"><span class="nav-number">2.3.4.</span> <span class="nav-text">DESCRIBE语句和SHOW CREATE TABLE语句的区别</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#删除表"><span class="nav-number">2.4.</span> <span class="nav-text">删除表</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#修改表"><span class="nav-number">2.5.</span> <span class="nav-text">修改表</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#增加字段"><span class="nav-number">2.5.1.</span> <span class="nav-text">增加字段</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#删除字段"><span class="nav-number">2.5.2.</span> <span class="nav-text">删除字段</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#修改字段"><span class="nav-number">2.5.3.</span> <span class="nav-text">修改字段</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#修改字段数据类型"><span class="nav-number">2.5.3.1.</span> <span class="nav-text">修改字段数据类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#修改字段的名字"><span class="nav-number">2.5.3.2.</span> <span class="nav-text">修改字段的名字</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#同时修改字段的名字和属性"><span class="nav-number">2.5.3.3.</span> <span class="nav-text">同时修改字段的名字和属性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#修改字段的顺序"><span class="nav-number">2.5.3.4.</span> <span class="nav-text">修改字段的顺序</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#修改表名"><span class="nav-number">2.5.4.</span> <span class="nav-text">修改表名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#操作表的约束"><span class="nav-number">2.5.5.</span> <span class="nav-text">操作表的约束</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#完整性约束"><span class="nav-number">2.5.5.1.</span> <span class="nav-text">完整性约束</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#设置非空约束-NOT-NULL-NK"><span class="nav-number">2.5.5.1.1.</span> <span class="nav-text">设置非空约束 NOT NULL,NK</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#设置字段的默认值-DEFAULT"><span class="nav-number">2.5.5.1.2.</span> <span class="nav-text">设置字段的默认值 DEFAULT</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#设置唯一约束-UNIQUE，UK"><span class="nav-number">2.5.5.1.3.</span> <span class="nav-text">设置唯一约束 UNIQUE，UK</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#设置主键约束-PRIMARY-PK"><span class="nav-number">2.5.5.1.4.</span> <span class="nav-text">设置主键约束 PRIMARY ,PK</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#设置字段值自动增加AUTO-INCREMENT"><span class="nav-number">2.5.5.1.5.</span> <span class="nav-text">设置字段值自动增加AUTO_INCREMENT</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#设置外键约束FOREIGN，FK"><span class="nav-number">2.5.5.1.6.</span> <span class="nav-text">设置外键约束FOREIGN，FK</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#数据的操作"><span class="nav-number">3.</span> <span class="nav-text">数据的操作</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#插入数据记录"><span class="nav-number">3.1.</span> <span class="nav-text">插入数据记录</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#插入完整数据记录"><span class="nav-number">3.1.1.</span> <span class="nav-text">插入完整数据记录</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#同时插入多条记录"><span class="nav-number">3.1.2.</span> <span class="nav-text">同时插入多条记录</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#插入完整数据记录-1"><span class="nav-number">3.1.2.1.</span> <span class="nav-text">插入完整数据记录</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#将查询结果插入到表中"><span class="nav-number">3.1.3.</span> <span class="nav-text">将查询结果插入到表中</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#更新数据记录"><span class="nav-number">3.1.4.</span> <span class="nav-text">更新数据记录</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#删除数据记录"><span class="nav-number">3.1.5.</span> <span class="nav-text">删除数据记录</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#TRUNCATE-TABLE语句"><span class="nav-number">3.1.5.1.</span> <span class="nav-text">TRUNCATE TABLE语句</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#综合案例——记录的插入、更新和删除"><span class="nav-number">3.1.6.</span> <span class="nav-text">综合案例——记录的插入、更新和删除</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#创建数据表books，并定义各个字段"><span class="nav-number">3.1.6.1.</span> <span class="nav-text">创建数据表books，并定义各个字段</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#插入数据到books表中"><span class="nav-number">3.1.6.2.</span> <span class="nav-text">插入数据到books表中</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#同时插入多条记录-1"><span class="nav-number">3.1.6.3.</span> <span class="nav-text">同时插入多条记录</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#批量更新数据"><span class="nav-number">3.1.6.4.</span> <span class="nav-text">批量更新数据</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#子查询和正则表达式查询"><span class="nav-number">3.2.</span> <span class="nav-text">子查询和正则表达式查询</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#子查询"><span class="nav-number">3.2.1.</span> <span class="nav-text">子查询</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#带ANY、SOME关键字的子查询"><span class="nav-number">3.2.1.1.</span> <span class="nav-text">带ANY、SOME关键字的子查询</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#带ALL关键字的子查询"><span class="nav-number">3.2.1.2.</span> <span class="nav-text">带ALL关键字的子查询</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#带EXISTS关键字的子查询"><span class="nav-number">3.2.1.3.</span> <span class="nav-text">带EXISTS关键字的子查询</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#带IN关键字的子查询"><span class="nav-number">3.2.1.4.</span> <span class="nav-text">带IN关键字的子查询</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#带比较运算符的子查询"><span class="nav-number">3.2.1.5.</span> <span class="nav-text">带比较运算符的子查询</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#合并查询结果"><span class="nav-number">3.2.1.6.</span> <span class="nav-text">合并查询结果</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#为表和字段取别名"><span class="nav-number">3.2.1.7.</span> <span class="nav-text">为表和字段取别名</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#为表取别名"><span class="nav-number">3.2.1.7.1.</span> <span class="nav-text">为表取别名</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#为字段取别名"><span class="nav-number">3.2.1.7.2.</span> <span class="nav-text">为字段取别名</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用正则表达式查询"><span class="nav-number">3.2.2.</span> <span class="nav-text">使用正则表达式查询</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#查询以特定字符或字符串开头的记录"><span class="nav-number">3.2.2.1.</span> <span class="nav-text">查询以特定字符或字符串开头的记录</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#查询以特定字符或字符串结尾的记录"><span class="nav-number">3.2.2.2.</span> <span class="nav-text">查询以特定字符或字符串结尾的记录</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#用符号”-”来替代字符串中的任意一个字符"><span class="nav-number">3.2.2.3.</span> <span class="nav-text">用符号”.”来替代字符串中的任意一个字符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#使用”-”和”-”来匹配多个字符"><span class="nav-number">3.2.2.4.</span> <span class="nav-text">使用”*”和”+”来匹配多个字符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#匹配指定字符串"><span class="nav-number">3.2.2.5.</span> <span class="nav-text">匹配指定字符串</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#匹配指定字符中的任意一个"><span class="nav-number">3.2.2.6.</span> <span class="nav-text">匹配指定字符中的任意一个</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#匹配指定字符以外的字符"><span class="nav-number">3.2.2.7.</span> <span class="nav-text">匹配指定字符以外的字符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#使用-M-或者-M-N-来指定字符串连续出现的次数"><span class="nav-number">3.2.2.8.</span> <span class="nav-text">使用{M}或者{M,N}来指定字符串连续出现的次数</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#综合案例——数据表查询操作"><span class="nav-number">3.2.3.</span> <span class="nav-text">综合案例——数据表查询操作</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#创建数据表employee和dept。"><span class="nav-number">3.2.3.1.</span> <span class="nav-text">创建数据表employee和dept。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#employee表dept-no依赖于父表dept的主键d-no，因此需要先创建dept表，然后创建employee表。"><span class="nav-number">3.2.3.2.</span> <span class="nav-text">employee表dept_no依赖于父表dept的主键d_no，因此需要先创建dept表，然后创建employee表。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#将指定记录分别插入两个表中。"><span class="nav-number">3.2.3.3.</span> <span class="nav-text">将指定记录分别插入两个表中。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#向employee表中插入数据"><span class="nav-number">3.2.3.4.</span> <span class="nav-text">向employee表中插入数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#查询操作"><span class="nav-number">3.2.3.5.</span> <span class="nav-text">查询操作</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#在employee表中，查询所有记录的e-no、e-name和e-salary字段值"><span class="nav-number">3.2.3.5.1.</span> <span class="nav-text">在employee表中，查询所有记录的e_no、e_name和e_salary字段值</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#在employee表中，查询dept-no等于10和20的所有记录"><span class="nav-number">3.2.3.5.2.</span> <span class="nav-text">在employee表中，查询dept_no等于10和20的所有记录</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#在employee表中，查询工资范围在800-2500之间的员工信息。"><span class="nav-number">3.2.3.5.3.</span> <span class="nav-text">在employee表中，查询工资范围在800~2500之间的员工信息。</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#在employee表中，查询部门编号为20的部门中的员工信息"><span class="nav-number">3.2.3.5.4.</span> <span class="nav-text">在employee表中，查询部门编号为20的部门中的员工信息</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#在employee表中，查询每个部门最高工资的员工信息。"><span class="nav-number">3.2.3.5.5.</span> <span class="nav-text">在employee表中，查询每个部门最高工资的员工信息。</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#查询员工BLAKE所在部门和部门所在地。"><span class="nav-number">3.2.3.5.6.</span> <span class="nav-text">查询员工BLAKE所在部门和部门所在地。</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#使用连接查询，查询所有员工的部门和部门信息。"><span class="nav-number">3.2.3.5.7.</span> <span class="nav-text">使用连接查询，查询所有员工的部门和部门信息。</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#在employee表中，计算每个部门各有多少名员工。"><span class="nav-number">3.2.3.5.8.</span> <span class="nav-text">在employee表中，计算每个部门各有多少名员工。</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#在employee表中，计算不同类型职工的总工资数。"><span class="nav-number">3.2.3.5.9.</span> <span class="nav-text">在employee表中，计算不同类型职工的总工资数。</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#在employee表中，计算不同部门的平均工资。"><span class="nav-number">3.2.3.5.9.1.</span> <span class="nav-text">在employee表中，计算不同部门的平均工资。</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#在employee表中，查询工资低于1500的员工信息。"><span class="nav-number">3.2.3.5.10.</span> <span class="nav-text">在employee表中，查询工资低于1500的员工信息。</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#在employee表中，将查询记录先按部门编号由高到低排列，再按员工工资由高到低排列。"><span class="nav-number">3.2.3.5.11.</span> <span class="nav-text">在employee表中，将查询记录先按部门编号由高到低排列，再按员工工资由高到低排列。</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#在employee表中，查询员工姓名以字母’A’或’S’开头的员工的信息。"><span class="nav-number">3.2.3.5.12.</span> <span class="nav-text">在employee表中，查询员工姓名以字母’A’或’S’开头的员工的信息。</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#在employee表中，查询到目前为止，工龄大于等于10年的员工信息。"><span class="nav-number">3.2.3.5.13.</span> <span class="nav-text">在employee表中，查询到目前为止，工龄大于等于10年的员工信息。</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#视图的操作"><span class="nav-number">4.</span> <span class="nav-text">视图的操作</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#视图介绍"><span class="nav-number">4.1.</span> <span class="nav-text">视图介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#为什么使用视图"><span class="nav-number">4.1.1.</span> <span class="nav-text">为什么使用视图</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#视图的作用"><span class="nav-number">4.1.2.</span> <span class="nav-text">视图的作用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#视图的特点"><span class="nav-number">4.1.3.</span> <span class="nav-text">视图的特点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#视图的优点"><span class="nav-number">4.1.4.</span> <span class="nav-text">视图的优点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#视图的缺点"><span class="nav-number">4.1.5.</span> <span class="nav-text">视图的缺点</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#视图的操作-1"><span class="nav-number">4.2.</span> <span class="nav-text">视图的操作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#创建视图"><span class="nav-number">4.2.1.</span> <span class="nav-text">创建视图</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#查看视图"><span class="nav-number">4.2.2.</span> <span class="nav-text">查看视图</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#修改视图"><span class="nav-number">4.2.3.</span> <span class="nav-text">修改视图</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#视图的更名"><span class="nav-number">4.2.4.</span> <span class="nav-text">视图的更名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#删除视图"><span class="nav-number">4.2.5.</span> <span class="nav-text">删除视图</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#利用视图操作基本表"><span class="nav-number">4.2.6.</span> <span class="nav-text">利用视图操作基本表</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#检索（查询）数据"><span class="nav-number">4.2.6.1.</span> <span class="nav-text">检索（查询）数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#利用视图操作基本表数据"><span class="nav-number">4.2.6.2.</span> <span class="nav-text">利用视图操作基本表数据</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#索引的操作"><span class="nav-number">5.</span> <span class="nav-text">索引的操作</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#索引简介"><span class="nav-number">5.1.</span> <span class="nav-text">索引简介</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#索引的含义和特点"><span class="nav-number">5.1.1.</span> <span class="nav-text">索引的含义和特点</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#建立索引的好处"><span class="nav-number">5.1.1.1.</span> <span class="nav-text">建立索引的好处</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#建立索引需要付出的代价"><span class="nav-number">5.1.1.2.</span> <span class="nav-text">建立索引需要付出的代价</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#索引的分类"><span class="nav-number">5.1.2.</span> <span class="nav-text">索引的分类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#索引的设计原则"><span class="nav-number">5.1.3.</span> <span class="nav-text">索引的设计原则</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#创建索引"><span class="nav-number">5.2.</span> <span class="nav-text">创建索引</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#创建表的时候创建索引"><span class="nav-number">5.2.1.</span> <span class="nav-text">创建表的时候创建索引</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#在已经存在的表上创建索引"><span class="nav-number">5.2.2.</span> <span class="nav-text">在已经存在的表上创建索引</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#建立数据库"><span class="nav-number">5.2.2.1.</span> <span class="nav-text">建立数据库</span></a></li></ol></li></ol></li></ol></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2022</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder"></span>

  

  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.9.0</div> 
   


  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.1.1</div>




<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

<span id="busuanzi_container_site_pv">
    <br>本站总访问量<span id="busuanzi_value_site_pv"></span>次
</span>
        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/utils.js?v=7.1.1"></script>

  <script src="/js/motion.js?v=7.1.1"></script>



  
  


  <script src="/js/affix.js?v=7.1.1"></script>

  <script src="/js/schemes/pisces.js?v=7.1.1"></script>




  
  <script src="/js/scrollspy.js?v=7.1.1"></script>
<script src="/js/post-details.js?v=7.1.1"></script>



  


  <script src="/js/next-boot.js?v=7.1.1"></script>


  

  

  

  


  
    <script>
  window.livereOptions = {
    refer: '2019/05/14/Mysql学习笔记/'
  };
  (function(d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') { return; }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
  })(document, 'script');
</script>

  


  




  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
<script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>

</body>
</html>
